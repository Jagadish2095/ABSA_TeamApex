/*
* Mock ApiRest Bean for XDSGetQuestions Service
* @author Diksha Wasekar
* @created 2019-08-31
*/

@isTest

global class XDSGetQuestionsMock_ApiRest  implements HttpCalloutMock
{
    Private String typeTest;
    
    global XDSGetQuestionsMock_ApiRest (final String typeTest)
    {
        this.typeTest = typeTest;
    }
    
    // Implement this interface method
    global HTTPResponse respond(HTTPRequest request) //temporary remove param HTTPRequest request
    {
        // Create a fake response
        HttpResponse response = new HttpResponse();
        response.setHeader(StringConstants.CONTENT_TYPE_STRING, 'application/json');
      
        if(typeTest == StringConstants.POSITIVE_STRING)
        {
            response.setBody('{"enquiryid":"56739531","enquiryresultid":"58624833","subscriberID":12439,"subscriberAuthenticationID":1036053,"authenticationDate":"2019-09-30T15:03:42.000+0000","authenticationStatusInd":"P","authenticationTypeInd":"P","referenceNo":"A1036053","totalQuestionPointValue":382,"requiredAuthenticatedPerc":75.0000,"authenticatedPerc":0.0000,"repeatAuthenticationMessage":"","actionedBySystemUserID":23117,"firstName":"BUSISO","surname":"SKOSANA","passportNo":null,"birthDate":"1993/03/11","gender":"F","haFirstName":"BUSISO","haSecondName":null,"haSurname":"SKOSANA","haIDNo":"8505225522085","haDeaseasedStatus":"Active","haIDIssuedDate":"2011/03/30","consumerAccountAgeMessage":"","encryptedReferenceNo":"","authenticationComment":"","isUserBlocked":false,"personalQuestionsenabled":true,"blockingEnabledFlag":false,"referToFraud":false,"blockid":0,"blockingReason":"","questionTimeout":300,"errorMessage":"","voidorFraudReason":"","noofAttemptsRemaining":1,"authenticationStatusReason":"NotProcessed","currentQuestionNum":0,"questions":{"questionDocument":[{"productAuthenticationQuestionID":21009,"question":"Do you have a Nedbank Credit Card account?","answerStatusInd":"P","questionPointValue":84,"requiredNoOfAnswers":1,"answers":{"answerDocument":[{"answer":"Yes","answerID":13825604,"isEnteredAnswerYN":false},{"answer":"No","answerID":13825605,"isEnteredAnswerYN":false}]}},{"productAuthenticationQuestionID":27003,"question":"Who is your previous or current employer?","answerStatusInd":"P","questionPointValue":50,"requiredNoOfAnswers":1,"answers":{"answerDocument":[{"answer":"011 AUTO","answerID":13825608,"isEnteredAnswerYN":false},{"answer":"011 DAINFERN","answerID":13825609,"isEnteredAnswerYN":false},{"answer":"MONOCLE SOLUTIONS PROPRIETARY","answerID":13825610,"isEnteredAnswerYN":false},{"answer":"007 SECURITY SERVICES","answerID":13825611,"isEnteredAnswerYN":false},{"answer":"None of these","answerID":13825612,"isEnteredAnswerYN":false}]}},{"productAuthenticationQuestionID":21014,"question":"Name your credit card accounts","answerStatusInd":"P","questionPointValue":84,"requiredNoOfAnswers":1,"answers":{"answerDocument":[{"answer":"Standard Bank Blue Bean ","answerID":13825615,"isEnteredAnswerYN":false},{"answer":"FNB Card","answerID":13825616,"isEnteredAnswerYN":false},{"answer":"Nedbank Amex","answerID":13825617,"isEnteredAnswerYN":false},{"answer":"None of these","answerID":13825619,"isEnteredAnswerYN":false},{"answer":"Vodacom Credit Card","answerID":13825618,"isEnteredAnswerYN":false}]}},{"productAuthenticationQuestionID":24002,"question":"Is the credit limit on your Standard Bank Credit Card account R 50,000?","answerStatusInd":"P","questionPointValue":85,"requiredNoOfAnswers":1,"answers":{"answerDocument":[{"answer":"Yes","answerID":13825606,"isEnteredAnswerYN":false},{"answer":"No","answerID":13825607,"isEnteredAnswerYN":false}]}},{"productAuthenticationQuestionID":21023,"question":"Do you buy furniture on account at Rainbow OK Furnishers?","answerStatusInd":"P","questionPointValue":79,"requiredNoOfAnswers":1,"answers":{"answerDocument":[{"answer":"Yes","answerID":13825613,"isEnteredAnswerYN":false},{"answer":"No","answerID":13825614,"isEnteredAnswerYN":false}]}}]},"authenticationHistory":{"authenticationHistoryDocument":[{"bureauDate":"2019/09/30 03:03:42 PM","subscriberName":"Absa IT Web","cellularNumber":"","authenticationStatus":"Pending","authenticationPerc":"0.0000","emailAddress":""}]},"voidReasons":{"voidReasonsDocument":[{"voidReasonID":1,"voidReason":"Customer dropped call","isEnteredReasonYN":false},{"voidReasonID":2,"voidReason":"Suspected fraud","isEnteredReasonYN":false},{"voidReasonID":3,"voidReason":"Power failure","isEnteredReasonYN":false},{"voidReasonID":4,"voidReason":"Call lost","isEnteredReasonYN":false},{"voidReasonID":5,"voidReason":"Customer will call back","isEnteredReasonYN":false},{"voidReasonID":6,"voidReason":"Other","isEnteredReasonYN":false}]},"fraudReasons":null,"idno":"9303110315081","safpsindicator":false,"otpstatus":false,"otpenabled":false,"otpnotGeneratedReason":"","otpvalue":"","safpsmessage":"Not Listed on SAFPS"}');
            //response.setBody(' {  "enquiryid": "56673843",   "enquiryresultid": "58551441",   "subscriberID": 12439,   "subscriberAuthenticationID": 1031689,   "authenticationDate": "2019-09-13T09:22:36.000+0000",   "authenticationStatusInd": "P",   "authenticationTypeInd": "P",   "referenceNo": "A1031689",   "totalQuestionPointValue": 261,   "requiredAuthenticatedPerc": 75,   "authenticatedPerc": 0,   "repeatAuthenticationMessage": null,   "actionedBySystemUserID": 23117,   "firstName": "SIVUYILE",   "surname": "XDSGetQuestions",   "passportNo": null,   "birthDate": "1989/05/22",   "gender": "M",   "haFirstName": "SIVUYILE",   "haSecondName": "LANCELOT",   "haSurname": "MPHEFU",   "haIDNo": "123456",   "haDeaseasedStatus": "Active",   "haIDIssuedDate": null,   "consumerAccountAgeMessage": null,   "encryptedReferenceNo": null,   "authenticationComment": null,   "isUserBlocked": false,   "personalQuestionsenabled": true,   "blockingEnabledFlag": false,   "referToFraud": false,   "blockid": 0,   "blockingReason": null,   "questionTimeout": 300,   "errorMessage": null,   "voidorFraudReason": null,   "noofAttemptsRemaining": 0,   "authenticationStatusReason": "NotProcessed",   "currentQuestionNum": 0,   "questions": {     "questionDocument": [       {         "productAuthenticationQuestionID": 22002,         "question": "How long have you had a Mr Price Weekend account?",         "answerStatusInd": "P",         "questionPointValue": 50,         "requiredNoOfAnswers": 1,         "answers": {           "answerDocument": [             {               "answer": "0 - 2 Years",               "answerID": 13781633,               "isEnteredAnswerYN": false             },             {               "answer": "6 - 10 Years",               "answerID": 13781635,               "isEnteredAnswerYN": false             },             {               "answer": "3 - 5 Years",               "answerID": 13781634,               "isEnteredAnswerYN": false             },             {               "answer": "11+ Years",               "answerID": 13781636,               "isEnteredAnswerYN": false             },             {               "answer": "None of these",               "answerID": 13781637,               "isEnteredAnswerYN": false             }           ]         }       },       {         "productAuthenticationQuestionID": 28063,         "question": "Do you have a home loan with Absa Home Loans?",         "answerStatusInd": "P",         "questionPointValue": 50,         "requiredNoOfAnswers": 1,         "answers": {           "answerDocument": [             {               "answer": "No",               "answerID": 13781624,               "isEnteredAnswerYN": false             },             {               "answer": "Yes",               "answerID": 13781623,               "isEnteredAnswerYN": false             }           ]         }       },       {         "productAuthenticationQuestionID": 28059,         "question": "In what year did you purchase the property at 649 UITTOG AVENUE, GELUKSDAL, BRAKPAN, 1550?",         "answerStatusInd": "P",         "questionPointValue": 50,         "requiredNoOfAnswers": 1,         "answers": {           "answerDocument": [             {               "answer": "1993",               "answerID": 13781619,               "isEnteredAnswerYN": false             },             {               "answer": "2007",               "answerID": 13781618,               "isEnteredAnswerYN": false             },             {               "answer": "1994",               "answerID": 13781620,               "isEnteredAnswerYN": false             },             {               "answer": "2011",               "answerID": 13781621,               "isEnteredAnswerYN": false             },             {               "answer": "None of these",               "answerID": 13781622,               "isEnteredAnswerYN": false             }           ]         }       },       {         "productAuthenticationQuestionID": 28095,         "question": "Do you or did you finance your vehicle with Wesbank Motor Loans ?",         "answerStatusInd": "P",         "questionPointValue": 50,         "requiredNoOfAnswers": 1,         "answers": {           "answerDocument": [             {               "answer": "Yes",               "answerID": 13781631,               "isEnteredAnswerYN": false             },             {               "answer": "No",               "answerID": 13781632,               "isEnteredAnswerYN": false             }           ]         }       },       {         "productAuthenticationQuestionID": 23003,         "question": "What was your payment to your Vodacom Credit Card account in August?",         "answerStatusInd": "P",         "questionPointValue": 61,         "requiredNoOfAnswers": 1,         "answers": {           "answerDocument": [             {               "answer": "0 - 500",               "answerID": 13781625,               "isEnteredAnswerYN": false             },             {               "answer": "501 - 1000",               "answerID": 13781626,               "isEnteredAnswerYN": false             },             {               "answer": "1001 - 2500",               "answerID": 13781627,               "isEnteredAnswerYN": false             },             {               "answer": "5001+",               "answerID": 13781629,               "isEnteredAnswerYN": false             },             {               "answer": "2501 - 5000",               "answerID": 13781628,               "isEnteredAnswerYN": false             },             {               "answer": "None of these",               "answerID": 13781630,               "isEnteredAnswerYN": false             }           ]         }       }     ]   },   "authenticationHistory": {     "authenticationHistoryDocument": [       {         "bureauDate": "2019/09/13 09:22:36 AM",         "subscriberName": "Absa IT Web",         "cellularNumber": null,         "authenticationStatus": "Pending",         "authenticationPerc": "0.0000",         "emailAddress": null       },       {         "bureauDate": "2019/09/13 09:22:16 AM",         "subscriberName": "Absa IT Web",         "cellularNumber": null,         "authenticationStatus": "Pending",         "authenticationPerc": "0.0000",         "emailAddress": null       },       {         "bureauDate": "2019/09/10 11:55:23 AM",         "subscriberName": "Absa IT Web",         "cellularNumber": null,         "authenticationStatus": "Pending",         "authenticationPerc": "0.0000",         "emailAddress": null       }     ]   },   "voidReasons": {     "voidReasonsDocument": [       {         "voidReasonID": 1,         "voidReason": "Customer dropped call",         "isEnteredReasonYN": false       },       {         "voidReasonID": 2,         "voidReason": "Suspected fraud",         "isEnteredReasonYN": false       },       {         "voidReasonID": 3,         "voidReason": "Power failure",         "isEnteredReasonYN": false       },       {         "voidReasonID": 4,         "voidReason": "Call lost",         "isEnteredReasonYN": false       },       {         "voidReasonID": 5,         "voidReason": "Customer will call back",         "isEnteredReasonYN": false       },       {         "voidReasonID": 6,         "voidReason": "Other",         "isEnteredReasonYN": false       }     ]   },   "fraudReasons": null,   "idno": "8905225522087",   "safpsindicator": false,   "otpstatus": false,   "otpenabled": false,   "otpnotGeneratedReason": null,   "otpvalue": null,   "safpsmessage": "Not Listed on SAFPS" }');
        	response.setStatusCode(200);

        }
        else if(typeTest == StringConstants.NEGATIVE_STRING)
        {
            response.setBody(StringConstants.ERROR_MSG_READ_TIMED_OUT);
            response.setStatusCode(400);
        }
        else if(typeTest == StringConstants.UNHANDLED_EXCEPTION_STATUS)
        {
            response.setBody('{}');
            response.setStatusCode(500);
        }
        return response; 
    }

}