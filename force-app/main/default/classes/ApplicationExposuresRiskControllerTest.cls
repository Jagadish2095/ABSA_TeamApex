/**
 * @description       : Test class for ApplicationExposuresRiskController class
 * @author            : Himani Joshi
 * @last modified on  : 2021-07-29
 * @last modified by  : Gulafsha
 * Modifications Log 
 * Ver   Date         Author                               Modification
 * 1.0   2021-06-07   Himani Joshi   Initial Version
**/

@IsTest
public class ApplicationExposuresRiskControllerTest {
    
    /**
    * @description : Method to set mock callout 
    * @author Himani Joshi | 2021-06-07 
    **/
    @isTest static void testgetApplicationRiskExposuresfromService() 
    {
        String POSITIVE_RESPONSE_BODY = '{"TRC519O": {"TRC519O_OUTPUT_PROCESS_RESULTS": { "TRC519O_RETURN_CODE": 10   },   "TRC519O_OUTPUT_DATA": { "TRC519O_AGE_CUST_RELATIONSHIP": 0, "TRC519O_LIMIT_ACCL": 0, "TRC519O_TOT_VAL_CREDITS_L6M": 0, "TRC519O_TRIAD_EXCL_REASON": "", "TRC519O_DATaE_OPEN_OLDEST_SAV": 0, "TRC519O_AVG_CTO_L3M_L6M": 0.00, "TRC519O_BEH_SCORE_AVAF": 0, "TRC519O_NUM_MTS_EXS_L6M": 0, "TRC519O_DATE_OPEN_OLDEST_CHQ": 0, "TRC519O_LIMIT_ABRA": 0, "TRC519O_LIMIT_AMMR": 0, "TRC519O_DATE_CUST_REL": 0, "TRC519O_BEH_SCORE_LOANS": 0, "TRC519O_MAX_CONSEQ_DAYS_EXS": 0, "TRC519O_TRIAD_EXCLUSION": "", "TRC519O_NUM_CHQ_RD_L6M": 0, "TRC519O_BEH_SCORE_CHQ": 0, "TRC519O_VAL_SAV_RET_PYMNT_L6M": 0, "TRC519O_LIMIT_CAPPED_AOL": 0, "TRC519O_NUM_SAV_RD_L3M": 0, "TRC519O_NUM_SAV_RD_L6M": 0, "TRC519O_DAYS_IN_CREDIT_CHQ_L6M": 0, "TRC519O_AGE_CHQ_RELATIONSHIP": 0, "TRC519O_CFAC_EXCLUSION_REASON": 0, "TRC519O_LIMIT_AMLR": 0, "TRC519O_TOT_VAL_DEBITS_L6M": 0, "TRC519O_DAYS_IN_DEBIT_CHQ_L6M": 0, "TRC519O_BEH_SCORE_CARD": 0, "TRC519O_EXP_CREDIT_TURNOVER_CU": 0, "TRC519O_AGE_SAV_RELATIONSHIP": 0, "TRC519O_MAX_ORD_CRED_EXPOSURE": 0, "TRC519O_VAL_CHQ_RET_PYMNT_L6M": 0, "TRC519O_EXP_CREDIT_TURNOVER_CQ": 0, "TRC519O_LIMIT_AOL": 0, "TRC519O_AGE_ACC_RELATIONSHIP": 0, "TRC519O_CUST_ALIGN_SCORE": 0, "TRC519O_PROT_NCA": "", "TRC519O_CFAC_EXCLUSION": "", "TRC519O_AVG_CTO_L6M_L12M": 0.00, "TRC519O_DATE_OPEN_OLDEST_ACC": 0, "TRC519O_LIMIT_AMR": 0, "TRC519O_NUM_CHQ_RD_L3M": 0, "TRC519O_COND_ACCOUNT_DETAILS": [    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    } ], "TRC519O_BEH_SCORE_MLOAN": 0   }      },      "NBSAPDPO": {  "NBSAPLO": { "NBNAPLO_REASON_CODE": 0, "NBNAPLO_RETURN_CODE": 0, "NBNAPLO_SERVICE_VERSION": "BUSO002"   }     }  }';
        // Set mock callout class
        Test.setMock(HttpCalloutMock.class, new Sys_Utilities_Integration_Mock_ApiRest(StringConstants.POSITIVE_STRING, POSITIVE_RESPONSE_BODY ));
        Opportunity opp=[select Id from Opportunity];
        test.startTest();
        ApplicationExposuresRiskController.getApplicationRiskExposuresfromServiceFuture(opp.Id);
        Map<string,string> appExposureRisk1=ApplicationExposuresRiskController.getApplicationRiskExposuresfromService(opp.Id);
        Map<string,List<sobject>> appExposureRisk2 =  ApplicationExposuresRiskController.getWorstRiskGrade(opp.Id);
        System.assertNotEquals(null,appExposureRisk2);
        test.stopTest();
    }
    @testSetup static void createData(){

        String POSITIVE_RESPONSE_BODY = '{"TRC519O": {"TRC519O_OUTPUT_PROCESS_RESULTS": { "TRC519O_RETURN_CODE": 10   },   "TRC519O_OUTPUT_DATA": { "TRC519O_AGE_CUST_RELATIONSHIP": 0, "TRC519O_LIMIT_ACCL": 0, "TRC519O_TOT_VAL_CREDITS_L6M": 0, "TRC519O_TRIAD_EXCL_REASON": "", "TRC519O_DATaE_OPEN_OLDEST_SAV": 0, "TRC519O_AVG_CTO_L3M_L6M": 0.00, "TRC519O_BEH_SCORE_AVAF": 0, "TRC519O_NUM_MTS_EXS_L6M": 0, "TRC519O_DATE_OPEN_OLDEST_CHQ": 0, "TRC519O_LIMIT_ABRA": 0, "TRC519O_LIMIT_AMMR": 0, "TRC519O_DATE_CUST_REL": 0, "TRC519O_BEH_SCORE_LOANS": 0, "TRC519O_MAX_CONSEQ_DAYS_EXS": 0, "TRC519O_TRIAD_EXCLUSION": "", "TRC519O_NUM_CHQ_RD_L6M": 0, "TRC519O_BEH_SCORE_CHQ": 0, "TRC519O_VAL_SAV_RET_PYMNT_L6M": 0, "TRC519O_LIMIT_CAPPED_AOL": 0, "TRC519O_NUM_SAV_RD_L3M": 0, "TRC519O_NUM_SAV_RD_L6M": 0, "TRC519O_DAYS_IN_CREDIT_CHQ_L6M": 0, "TRC519O_AGE_CHQ_RELATIONSHIP": 0, "TRC519O_CFAC_EXCLUSION_REASON": 0, "TRC519O_LIMIT_AMLR": 0, "TRC519O_TOT_VAL_DEBITS_L6M": 0, "TRC519O_DAYS_IN_DEBIT_CHQ_L6M": 0, "TRC519O_BEH_SCORE_CARD": 0, "TRC519O_EXP_CREDIT_TURNOVER_CU": 0, "TRC519O_AGE_SAV_RELATIONSHIP": 0, "TRC519O_MAX_ORD_CRED_EXPOSURE": 0, "TRC519O_VAL_CHQ_RET_PYMNT_L6M": 0, "TRC519O_EXP_CREDIT_TURNOVER_CQ": 0, "TRC519O_LIMIT_AOL": 0, "TRC519O_AGE_ACC_RELATIONSHIP": 0, "TRC519O_CUST_ALIGN_SCORE": 0, "TRC519O_PROT_NCA": "", "TRC519O_CFAC_EXCLUSION": "", "TRC519O_AVG_CTO_L6M_L12M": 0.00, "TRC519O_DATE_OPEN_OLDEST_ACC": 0, "TRC519O_LIMIT_AMR": 0, "TRC519O_NUM_CHQ_RD_L3M": 0, "TRC519O_COND_ACCOUNT_DETAILS": [    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    },    { "TRC519O_COND_ACC_VAL_DP_RETPY": 0, "TRC519O_COND_ACC_VAL_CQ_RETPY": 0, "TRC519O_COND_ACC_MIN_BAL": 0, "TRC519O_COND_ACC_DAYS_EXCESS": 0, "TRC519O_COND_ACC_DR_TURNOVER": 0, "TRC519O_COND_ACC_AVG_BAL": 0, "TRC519O_COND_ACC_CR_TURNOVER": 0, "TRC519O_COND_ACC_TOT_LIMIT": 0, "TRC519O_COND_ACC_NUM_DR_SAV": 0, "TRC519O_COND_ACC_NUM_CQ_RD_EV": 0, "TRC519O_COND_CLNT_RISK_GRADE": 0, "TRC519O_COND_ACC_HIGH_LIMIT": 0, "TRC519O_COND_ACC_DAYS_DR_CHQ": 0, "TRC519O_COND_ACC_NUM_DP_RD_EV": 0, "TRC519O_COND_ACC_MAX_BAL": 0, "TRC519O_COND_ACC_NUM_DR_CHQ": 0, "TRC519O_COND_NO_OPEN_CQ_ACC": 0, "TRC519O_COND_ACC_DAYS_CR_CHQ": 0    } ], "TRC519O_BEH_SCORE_MLOAN": 0   }      },      "NBSAPDPO": {  "NBSAPLO": { "NBNAPLO_REASON_CODE": 0, "NBNAPLO_RETURN_CODE": 0, "NBNAPLO_SERVICE_VERSION": "BUSO002"   }     }  }';
        Test.setMock(HttpCalloutMock.class, new Sys_Utilities_Integration_Mock_ApiRest(StringConstants.POSITIVE_STRING, POSITIVE_RESPONSE_BODY));
        IntegrationTestDataFactory.insertIntegrationSettings(StringConstants.JITTERBIT2, new List<String>{GetTriads_IH_v1.INTEGRATION_SERVICE_NAME});
        GetTriads_Resp_IB_v1 responseBean1 = new GetTriads_Resp_IB_v1();
        responseBean1 =(GetTriads_Resp_IB_v1)responseBean1.deserialize(POSITIVE_RESPONSE_BODY, GetTriads_Resp_IB_v1.class);
        Account account = new Account();
        account.Name = 'Absa Bank';
        account.Client_Type__c = 'Private Individual';
        account.CIF__c = 'SNIFFEL001';
        account.Sic='35790';
        account.AccountNumber='0';
        account.Registration_Number__c='1990/011515/23';
        insert account;
        Opportunity opp = new Opportunity();
        opp.Name = 'EPP';
        opp.StageName = 'Not Interested';
        opp.CloseDate = Date.today() + 10;
        opp.AccountId=account.Id;
        Insert opp;
        Application__c application = new Application__c();
        application.Opportunity__c = opp.Id;
        Insert application;
        Application_Profile__c app=new Application_Profile__c();
        app.Client_CIF_Code__c='SNIFFEL001';
        app.Client_Name__c='Absa Bank';
        app.Application__c=application.Id;
        app.Applicant_Type__c='Main Applicant';
        app.Related_to_Client_ID_or_Reg_Number__c=account.Registration_Number__c;
        insert app;
        Application_Profile__c app1=new Application_Profile__c();
        app1.Client_CIF_Code__c='AABK   007';
        app1.Client_Name__c='Absa Bank';
        app1.Application__c=application.Id;
        app1.Related_to_Client_ID_or_Reg_Number__c=app.Related_to_Client_ID_or_Reg_Number__c;
        insert app1;
        Application_Principal__c prin1=new Application_Principal__c();
        prin1.Principal_Shareholder_Name__c='HERMAN JOHANNES FOURIE';
        prin1.cif__c='FOURIBM001';
        prin1.Application__c=application.Id;
        prin1.Main__c=true;
        prin1.Id_Number__c='7010075121089';
        insert prin1;
        
        Application_Principal__c prin2=new Application_Principal__c();
        prin2.Principal_Shareholder_Name__c='CASE PRICING';
        prin2.cif__c='PRICIC 001';
        prin2.Id_Number__c='6004130448083';
        prin2.Application__c=application.Id;
        prin2.Main__c=false;
        insert prin2;

        Application_Profile__c app2=new Application_Profile__c();
        app2.Client_CIF_Code__c=prin1.cif__c;
        app2.Client_Name__c='FOURIE';
        app2.Application__c=application.Id;
        app2.Related_to_Client_ID_or_Reg_Number__c=prin1.Id_Number__c;
        insert app2;
        Application_Profile__c app3=new Application_Profile__c();
        app3.Client_CIF_Code__c='FOURIE 910';
        app3.Client_Name__c='FOURIE';
        app3.Application__c=application.Id;
        app3.Related_to_Client_ID_or_Reg_Number__c=app2.Related_to_Client_ID_or_Reg_Number__c;
        insert app3;
        Application_Profile__c app4=new Application_Profile__c();
        app4.Client_CIF_Code__c=prin2.cif__c;
        app4.Client_Name__c='PRICING';
        app4.Application__c=application.Id;
        app4.Related_to_Client_ID_or_Reg_Number__c=prin2.Id_Number__c;
        insert app4;
                
        Application_Exposure_Risk__c appEx=new Application_Exposure_Risk__c();
        appEx.Application__c=application.Id;
        appEx.Client_Code__c=app1.Client_CIF_Code__c;
        appEx.Client_Name__c=app1.Client_Name__c;
        appEx.Risk_Grade__c='5';
        insert appEx;
        Application_Exposure_Risk__c appEx1=new Application_Exposure_Risk__c();
        appEx1.Application__c=application.Id;
        appEx1.Client_Code__c=app2.Client_CIF_Code__c;
        appEx1.Client_Name__c=app2.Client_Name__c;
        appEx1.Risk_Grade__c='5';
        insert appEx1;
        Application_Exposure_Risk__c appEx2=new Application_Exposure_Risk__c();
        appEx2.Application__c=application.Id;
        appEx2.Client_Code__c=app4.Client_CIF_Code__c;
        appEx2.Client_Name__c=app4.Client_Name__c;
        appEx2.Risk_Grade__c='5';
        insert appEx2;
        
        
          
        
        
        
    }
    
}