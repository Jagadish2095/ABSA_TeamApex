/*
 * Mock ApiRest Bean for XDSSubmitQuestions Service
 * @author Madhava Palla
 * @created 2019-09-17
 */
global class XDSSubmitQuestionsMock_ApiRest  implements HttpCalloutMock{
    Private String typeTest;
	global XDSSubmitQuestionsMock_ApiRest (final String typeTest){
        this.typeTest = typeTest;
    }
    // Implement this interface method
    global HTTPResponse respond(HTTPRequest request) {
        // Create a fake response
        HttpResponse response = new HttpResponse();
        response.setHeader(StringConstants.CONTENT_TYPE_STRING, 'application/json');
        if(typeTest == StringConstants.POSITIVE_STRING){
            response.setBody('{"subscriberID":12439,"subscriberAuthenticationID":1036086,"authenticationDate":"2019-09-30T15:59:11.000+0000","authenticationStatusInd":"P","authenticationTypeInd":"P","referenceNo":"A1036086","totalQuestionPointValue":318,"requiredAuthenticatedPerc":75,"authenticatedPerc":0,"repeatAuthenticationMessage":"","actionedBySystemUserID":23117,"firstName":"RUDZANI","secondName":null,"surname":"KHOROMMBI","passportNo":null,"birthDate":"1989/11/03","gender":"F","haFirstName":"RUDZANI","haSecondName":null,"haSurname":"KHOROMMBI","haIDNo":"8505225522085","haDeaseasedStatus":"Active","haDeaseasedDate":null,"haCauseOfDeath":null,"haIDIssuedDate":"2008/06/18","consumerAccountAgeMessage":"","encryptedReferenceNo":"","authenticationComment":"","isUserBlocked":false,"personalQuestionsenabled":true,"blockingEnabledFlag":false,"referToFraud":false,"blockid":0,"blockingReason":"","questionTimeout":300,"errorMessage":"Please answer all questions before trying to authenticate! ","voidorFraudReason":"","noofAttemptsRemaining":1,"authenticationStatusReason":"NotProcessed","currentQuestionNum":0,"questions":{"questionDocument":[{"productAuthenticationQuestionID":21022,"question":"Do you buy clothing on account at Truworths?","answerStatusInd":"P","questionPointValue":50,"requiredNoOfAnswers":1,"answers":{"answerDocument":[{"answerID":13826179,"answer":"No","isEnteredAnswerYN":true},{"answerID":13826179,"answer":"No","isEnteredAnswerYN":true}]}},{"productAuthenticationQuestionID":21009,"question":"Do you have a Absa Credit Card account?","answerStatusInd":"P","questionPointValue":84,"requiredNoOfAnswers":1,"answers":{"answerDocument":[{"answerID":13826174,"answer":"Yes","isEnteredAnswerYN":true},{"answerID":13826174,"answer":"Yes","isEnteredAnswerYN":true}]}},{"productAuthenticationQuestionID":27001,"question":"Have you worked at ABSA BANK?","answerStatusInd":"P","questionPointValue":84,"requiredNoOfAnswers":1,"answers":{"answerDocument":[{"answerID":13826176,"answer":"Yes","isEnteredAnswerYN":true},{"answerID":13826176,"answer":"Yes","isEnteredAnswerYN":true}]}},{"productAuthenticationQuestionID":28063,"question":"Do you have a home loan with Absa Home Loans?","answerStatusInd":"P","questionPointValue":50,"requiredNoOfAnswers":1,"answers":{"answerDocument":[{"answerID":13826181,"answer":"No","isEnteredAnswerYN":false},{"answerID":13826181,"answer":"No","isEnteredAnswerYN":false}]}},{"productAuthenticationQuestionID":28035,"question":"In what year did you become a director or register L S R ENGINEERING SERVICES?","answerStatusInd":"P","questionPointValue":50,"requiredNoOfAnswers":1,"answers":{"answerDocument":[{"answerID":13826184,"answer":"2000","isEnteredAnswerYN":false},{"answerID":13826184,"answer":"2000","isEnteredAnswerYN":false},{"answerID":13826184,"answer":"2000","isEnteredAnswerYN":false},{"answerID":13826184,"answer":"2000","isEnteredAnswerYN":false},{"answerID":13826184,"answer":"2000","isEnteredAnswerYN":false}]}}]},"authenticationHistory":{"authenticationHistoryDocument":[{"bureauDate":"2019/09/30 03:59:11 PM","subscriberName":"Absa IT Web","cellularNumber":"","authenticationStatus":"Pending","authenticationPerc":"0.0000","emailAddress":""}]},"voidReasons":{"voidReasonsDocument":[{"voidReasonID":1,"voidReason":"Customer dropped call","isEnteredReasonYN":false},{"voidReasonID":2,"voidReason":"Suspected fraud","isEnteredReasonYN":false},{"voidReasonID":3,"voidReason":"Power failure","isEnteredReasonYN":false},{"voidReasonID":4,"voidReason":"Call lost","isEnteredReasonYN":false},{"voidReasonID":5,"voidReason":"Customer will call back","isEnteredReasonYN":false},{"voidReasonID":6,"voidReason":"Other","isEnteredReasonYN":false}]},"fraudReasons":null,"comment":null,"idno":"8505225522085","safpsindicator":false,"otpstatus":false,"otpenabled":false,"otpnotGeneratedReason":"","otpvalue":"","safpsmessage":"Not Listed on SAFPS"}');
            //response.setBody('{     "actionedBySystemUserID": 23117,     "authenticatedPerc": 40.5836,     "authenticationComment": null,     "authenticationDate": {         "day": null,         "eon": null,         "eonAndYear": null,         "fractionalSecond": null,         "hour": null,         "millisecond": null,         "minute": null,         "month": null,         "second": null,         "timezone": null,         "valid": null,         "___schemaType": {             "localPart": null,             "namespaceURI": null,             "prefix": null         },         "year": null     },     "authenticationHistory": {         "authenticationHistoryDocument": [             {                 "authenticationPerc": "0.0000",                 "authenticationStatus": "Pending",                 "bureauDate": "2019/09/14 02:11:20 PM",                 "cellularNumber": null,                 "emailAddress": null,                 "subscriberName": "Absa IT Web"             },             {                 "authenticationPerc": "0.0000",                 "authenticationStatus": "Pending",                 "bureauDate": "2019/09/14 12:13:14 PM",                 "cellularNumber": null,                 "emailAddress": null,                 "subscriberName": "Absa IT Web"             },             {                 "authenticationPerc": "0.0000",                 "authenticationStatus": "Pending",                 "bureauDate": "2019/09/10 11:57:47 AM",                 "cellularNumber": null,                 "emailAddress": null,                 "subscriberName": "Absa IT Web"             }         ]     },     "authenticationStatusInd": "N",     "authenticationStatusReason": "NAInvalidAnswers",     "authenticationTypeInd": "P",     "birthDate": "1987/02/22",     "blockid": 0,     "blockingEnabledFlag": true,     "blockingReason": null,     "comment": null,     "consumerAccountAgeMessage": null,     "currentQuestionNum": 0,     "encryptedReferenceNo": "1u11JGDFdJ+MyZ4GScn3cxo8PwV31nPhO0KO7f9WOvY=",     "errorMessage": null,     "firstName": "LUNGA",     "gender": "M",     "haCauseOfDeath": null,     "haDeaseasedDate": null,     "haDeaseasedStatus": "Active",     "haFirstName": "LUNGA",     "haIDIssuedDate": "2003/08/08",     "haIDNo": "8702225222085",     "haSecondName": null,     "haSurname": "GOMBA",     "idno": "8702225222085",     "isUserBlocked": false,     "noofAttemptsRemaining": 17,     "otpenabled": false,     "otpnotGeneratedReason": null,     "otpstatus": false,     "otpvalue": null,     "passportNo": null,     "personalQuestionsenabled": true,     "questionTimeout": 300,     "questions": {         "questionDocument": [             {                 "answerStatusInd": "P",                 "answers": {                     "answerDocument": [                         {                             "answer": "Yes",                             "answerID": 13783086,                             "isEnteredAnswerYN": true                         },                         {                             "answer": "No",                             "answerID": 13783087,                             "isEnteredAnswerYN": false                         }                     ]                 },                 "productAuthenticationQuestionID": 24002,                 "question": "Is the credit limit on your Nedbank Personal Loans account R 21,197?",                 "questionPointValue": 85,                 "requiredNoOfAnswers": 1             },             {                 "answerStatusInd": "P",                 "answers": {                     "answerDocument": [                         {                             "answer": "Autopage",                             "answerID": 13783095,                             "isEnteredAnswerYN": true                         },                         {                             "answer": "Cell C",                             "answerID": 13783098,                             "isEnteredAnswerYN": false                         },                         {                             "answer": "Vodacom",                             "answerID": 13783097,                             "isEnteredAnswerYN": false                         },                         {                             "answer": "None of these",                             "answerID": 13783099,                             "isEnteredAnswerYN": false                         },                         {                             "answer": "Virgin Mobile",                             "answerID": 13783096,                             "isEnteredAnswerYN": false                         }                     ]                 },                 "productAuthenticationQuestionID": 21016,                 "question": "With which company do you have a cell phone contract?",                 "questionPointValue": 64,                 "requiredNoOfAnswers": 1             },             {                 "answerStatusInd": "P",                 "answers": {                     "answerDocument": [                         {                             "answer": "No",                             "answerID": 13783094,                             "isEnteredAnswerYN": true                         },                         {                             "answer": "Yes",                             "answerID": 13783093,                             "isEnteredAnswerYN": false                         }                     ]                 },                 "productAuthenticationQuestionID": 28051,                 "question": "Do you own the property at 101 STELLA ROAD, PLUMSTEAD, CAPE TOWN, 7800?",                 "questionPointValue": 68,                 "requiredNoOfAnswers": 1             },             {                 "answerStatusInd": "P",                 "answers": {                     "answerDocument": [                         {                             "answer": "Standard Bank VAF",                             "answerID": 13783088,                             "isEnteredAnswerYN": true                         },                         {                             "answer": "None of these",                             "answerID": 13783092,                             "isEnteredAnswerYN": false                         },                         {                             "answer": "Wesbank Motor Loans",                             "answerID": 13783089,                             "isEnteredAnswerYN": false                         },                         {                             "answer": "Nedbank Asset Base Finance",                             "answerID": 13783090,                             "isEnteredAnswerYN": false                         },                         {                             "answer": "IEMAS Card",                             "answerID": 13783091,                             "isEnteredAnswerYN": false                         }                     ]                 },                 "productAuthenticationQuestionID": 28097,                 "question": "Who finances your vehicle?",                 "questionPointValue": 76,                 "requiredNoOfAnswers": 1             },             {                 "answerStatusInd": "P",                 "answers": {                     "answerDocument": [                         {                             "answer": "No",                             "answerID": 13783085,                             "isEnteredAnswerYN": true                         },                         {                             "answer": "Yes",                             "answerID": 13783084,                             "isEnteredAnswerYN": false                         }                     ]                 },                 "productAuthenticationQuestionID": 27001,                 "question": "Have you worked at GLOBAL?",                 "questionPointValue": 84,                 "requiredNoOfAnswers": 1             }         ]     },     "referToFraud": false,     "referenceNo": "A1031778",     "repeatAuthenticationMessage": null,     "requiredAuthenticatedPerc": 75,     "safpsindicator": false,     "safpsmessage": "Not Listed on SAFPS",     "secondName": null,     "subscriberAuthenticationID": 1031778,     "subscriberID": 12439,     "surname": "GOMBA",     "totalQuestionPointValue": 377,     "voidReasons": {         "voidReasonsDocument": [             {                 "isEnteredReasonYN": false,                 "voidReason": "Customer dropped call",                 "voidReasonID": 1             },             {                 "isEnteredReasonYN": false,                 "voidReason": "Suspected fraud",                 "voidReasonID": 2             },             {                 "isEnteredReasonYN": false,                 "voidReason": "Power failure",                 "voidReasonID": 3             },             {                 "isEnteredReasonYN": false,                 "voidReason": "Call lost",                 "voidReasonID": 4             },             {                 "isEnteredReasonYN": false,                 "voidReason": "Customer will call back",                 "voidReasonID": 5             },             {                 "isEnteredReasonYN": false,                 "voidReason": "Other",                 "voidReasonID": 6             }         ]     },     "voidorFraudReason": null }');
            response.setStatus('Ok');
            response.setStatusCode(200);
            
            //response.
        }else if(typeTest == StringConstants.NEGATIVE_STRING){
            response.setBody(StringConstants.ERROR_MSG_READ_TIMED_OUT);
            response.setStatusCode(400);
            response.setStatus('NO');
        }
        return response; 
    }
}