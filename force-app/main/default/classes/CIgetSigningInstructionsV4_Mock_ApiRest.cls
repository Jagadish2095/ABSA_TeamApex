/*
 * Mock ApiRest Bean for CIgetSigningInstructionsV4 Service
 * @author Prashant Jain
 * @created 2020-03-05
 */

 @ isTest
global class CIgetSigningInstructionsV4_Mock_ApiRest implements HttpCalloutMock {
    private String typeTest;

    global CIgetSigningInstructionsV4_Mock_ApiRest(final String typeTest) {
        this.typeTest = typeTest;
    }

    // Implement this interface method
    global HTTPResponse respond(HTTPRequest request) {
        // Create a fake response
        HttpResponse response = new HttpResponse();
        response.setHeader(StringConstants.CONTENT_TYPE_STRING, 'application/json');

        if (typeTest == StringConstants.POSITIVE_STRING) {
            response.setBody('{   "CIgetSigningInstructionsV4Response": {     "nbsapdpo": {       "returnCode": "0",       "reasonCode": "0",       "serviceVersion": "BUSO003",       "echoKey": null     },     "nbsmsgo3": {       "version": "MSG3001",       "sysErrTxt": null,       "nbrUserMsgs": "0",       "nbrUserErrs": "0",       "msgEntry": {         "msgClass": null,         "msgCode": null,         "msgErrInd": null,         "msgTxt": null       }     },     "cip082do": {       "clientCode": "BDPLACE001",       "nbrSignReqOperAcc": "1",       "specialConditions": null,       "nbrSignRetrieved": "3",       "restartKeyOutput": null,       "outputTable": [         {           "title": "1",           "initials": "L",           "surname": "KILLIAN",           "name": "JOHN",           "idType": "3",           "idNbr": "34729387",           "dateIssued": "20130821",           "compulsorySign": "N",           "physicalAdd1": null,           "physicalAdd2": null,           "physicalSuburb": null,           "physicalTown": null,           "physicalPostal": "0",           "clientNationality": null,           "countryOfOrigin": null,           "countryResAddress": null,           "birthOpCountry": null,           "homeTelCode": null,           "homeTelephone": null,           "emailAddress": null,           "gender": "0",           "birthDate": "14081982",           "occupationStatus": "0",           "occupationCode": "0",           "designation": "0"         },         {           "title": "8",           "initials": "W",           "surname": "WENTZEL",           "name": "RONNIE",           "idType": "3",           "idNbr": "3689333",           "dateIssued": "20130814",           "compulsorySign": "Y",           "physicalAdd1": null,           "physicalAdd2": null,           "physicalSuburb": null,           "physicalTown": null,           "physicalPostal": "0",           "clientNationality": null,           "countryOfOrigin": null,           "countryResAddress": null,           "birthOpCountry": null,           "homeTelCode": null,           "homeTelephone": null,           "emailAddress": null,           "gender": "0",           "birthDate": "0",           "occupationStatus": "0",           "occupationCode": "0",           "designation": "0"         },         {           "title": "1",           "initials": "A",           "surname": "DE JAGER",           "name": "TRISTAN",           "idType": "3",           "idNbr": "3792",           "dateIssued": "20130714",           "compulsorySign": "N",           "physicalAdd1": null,           "physicalAdd2": null,           "physicalSuburb": null,           "physicalTown": null,           "physicalPostal": "0",           "clientNationality": null,           "countryOfOrigin": null,           "countryResAddress": null,           "birthOpCountry": null,           "homeTelCode": null,           "homeTelephone": null,           "emailAddress": null,           "gender": "0",           "birthDate": "0",           "occupationStatus": "0",           "occupationCode": "0",           "designation": "0"         }       ]     }   } }');
            response.setStatusCode(200);
        } if (typeTest == 'Single') {
            response.setBody('{   "CIgetSigningInstructionsV4Response": {     "nbsapdpo": {       "returnCode": "0",       "reasonCode": "0",       "serviceVersion": "BUSO003",       "echoKey": null     },     "nbsmsgo3": {       "version": "MSG3001",       "sysErrTxt": null,       "nbrUserMsgs": "0",       "nbrUserErrs": "0",       "msgEntry": {         "msgClass": null,         "msgCode": null,         "msgErrInd": null,         "msgTxt": null       }     },     "cip082do": {       "clientCode": "BDPLACE001",       "nbrSignReqOperAcc": "1",       "specialConditions": null,       "nbrSignRetrieved": "1",       "restartKeyOutput": null,       "outputTable": [         {           "title": "1",           "initials": "L",           "surname": "KILLIAN",           "name": "JOHN",           "idType": "3",           "idNbr": "34729387",           "dateIssued": "20130821",           "compulsorySign": "N",           "physicalAdd1": null,           "physicalAdd2": null,           "physicalSuburb": null,           "physicalTown": null,           "physicalPostal": "0",           "clientNationality": null,           "countryOfOrigin": null,           "countryResAddress": null,           "birthOpCountry": null,           "homeTelCode": null,           "homeTelephone": null,           "emailAddress": null,           "gender": "0",           "birthDate": "14081982",           "occupationStatus": "0",           "occupationCode": "0",           "designation": "0"         },         {           "title": "8",           "initials": "W",           "surname": "WENTZEL",           "name": "RONNIE",           "idType": "3",           "idNbr": "3689333",           "dateIssued": "20130814",           "compulsorySign": "Y",           "physicalAdd1": null,           "physicalAdd2": null,           "physicalSuburb": null,           "physicalTown": null,           "physicalPostal": "0",           "clientNationality": null,           "countryOfOrigin": null,           "countryResAddress": null,           "birthOpCountry": null,           "homeTelCode": null,           "homeTelephone": null,           "emailAddress": null,           "gender": "0",           "birthDate": "0",           "occupationStatus": "0",           "occupationCode": "0",           "designation": "0"         },         {           "title": "1",           "initials": "A",           "surname": "DE JAGER",           "name": "TRISTAN",           "idType": "3",           "idNbr": "3792",           "dateIssued": "20130714",           "compulsorySign": "N",           "physicalAdd1": null,           "physicalAdd2": null,           "physicalSuburb": null,           "physicalTown": null,           "physicalPostal": "0",           "clientNationality": null,           "countryOfOrigin": null,           "countryResAddress": null,           "birthOpCountry": null,           "homeTelCode": null,           "homeTelephone": null,           "emailAddress": null,           "gender": "0",           "birthDate": "0",           "occupationStatus": "0",           "occupationCode": "0",           "designation": "0"         }       ]     }   } }');
            response.setStatusCode(200);
        } else if (typeTest == StringConstants.NEGATIVE_STRING) {
            response.setBody(StringConstants.ERROR_MSG_READ_TIMED_OUT);
            response.setStatusCode(400);
        } else if (typeTest == StringConstants.UNHANDLED_EXCEPTION_STATUS) {
            response.setBody('{}');
            response.setStatusCode(500);
        }
        return response;
    }
}