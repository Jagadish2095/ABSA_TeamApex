/**
 * @description       : Test class for SanctioningApprovalController class
 * @author            : Almas Aleem
 * @last modified on  : 2021-11-25
 * @last modified by  : almas.aleem@absa.africa
 * Modifications Log 
 * Ver   Date         Author        Modification
 * 
 * 1.0   2021-07-12   Almas Aleem   Initial Version
**/
@isTest
public class SanctioningApprovalControllerTest {
    @isTest
    public static void getSancitioningTest(){
        test.startTest();
        
		OpportunityLineItem opportunityLineItem = [SELECT Id FROM OpportunityLineItem LIMIT 1];
        Opportunity opp = [SELECT Id FROM Opportunity LIMIT 1];
        system.assertNotEquals(null,opp.Id);
        List<Application_Product__c> appPrdList = [SELECT Product_Name__c,Is_Sanctioning_Decision__c, Product_Type__c, Temp_Account_Number__c,Product_Amount__c,Product_Status__c,
                                                   System_Decision__c, Final_Decision__c, Opportunity__c, Name, Id, Product_State__c,Business_Credit_Card_Sub_Product_Type__c,Requested_facility_limit__c
		                                           FROM Application_Product__c
		                                           where Opportunity__c = :opp.Id  AND Application_Product_Parent__c = null];
       
        
       SanctioningApprovalController.getRequestedProduct(opp.id);
       SanctioningApprovalController.submitApprovalProcess(opp.id);
       SanctioningApprovalController.rejectApprovalProcessforMoreInfo(opp.id);
        
        SanctioningApprovalController.submitApprovalProcess(opp.id);
        SanctioningApprovalController.acceptApprovalProcessforSanctioning(opp.id);
        SanctioningApprovalController.getCCWrapper(appPrdList[0]);
        SanctioningApprovalController.getBGWrapper(appPrdList[0]);
         SanctioningApprovalController.getTLWrapper(appPrdList[0]);
        test.stopTest();
    }
    
     @testSetup static void createData(){
     Account mainAccount = new Account(Name = 'Test Main Account');
        insert mainAccount;

        Opportunity opp = new Opportunity (Name ='testopp', AccountId = mainAccount.Id, StageName = 'New', CloseDate = system.today());
         
        insert opp;

           Account account = new Account(Name = 'Test Account');
        insert account;

        Contact contact = new Contact(LastName = 'Test contact', AccountId = account.Id, Email = 'agents@support.co.za');
        insert contact;

        AccountContactRelation accConnRel = new AccountContactRelation();
        accConnRel.AccountId = mainAccount.Id;
        accConnRel.ContactId = contact.Id;
        insert accConnRel;
         
         
         Product2 prod = new Product2(Name = 'Cheque Product', Family = 'Cheque');
        insert prod;

		Id pricebookId = Test.getStandardPricebookId();
		PricebookEntry standardPrice = new PricebookEntry(Pricebook2Id = pricebookId, Product2Id = prod.Id, UnitPrice = 10000, IsActive = true);
        insert standardPrice;

		Pricebook2 customPB = new Pricebook2(Name = 'Standard Pricebook', isActive = true);
        insert customPB;

		PricebookEntry customPrice = new PricebookEntry(Pricebook2Id = customPB.Id, Product2Id = prod.Id, UnitPrice = 12000, IsActive = true);
        insert customPrice;

		OpportunityLineItem oppLineItem = new OpportunityLineItem();
		oppLineItem.OpportunityId = opp.id;
		oppLineItem.Product2Id = prod.id;
		oppLineItem.PricebookEntryId = customPrice.id;
		oppLineItem.Quantity = 1;
		oppLineItem.TotalPrice = 100;
        insert oppLineItem;

        Application_Product__c parentApplicationRecord = new Application_Product__c();
        parentApplicationRecord.Opportunity__c = opp.Id;
        parentApplicationRecord.Product_Name__c = 'Cheque';
        parentApplicationRecord.Product_Type__c = '11021';//API picklist value for CLASSIC BUSINESS ACCOUNT
        //parentApplicationRecord.Account_Number__c = 123456789;
        parentApplicationRecord.Product_State__c = 'New';
        parentApplicationRecord.Final_Decision__c='Accepted';
        parentApplicationRecord.Opportunity_Product_Id__c = '001';
        parentApplicationRecord.Product_Status__c = 'Accepted';
        parentApplicationRecord.Accept_TOB__c = true;
        parentApplicationRecord.Is_Sanctioning_Decision__c = true; 
         
        insert parentApplicationRecord;

        Application_Product__c childApplicationRecord = new Application_Product__c();
        childApplicationRecord.Opportunity__c = opp.Id;
        childApplicationRecord.Product_Name__c = 'Overdraft';
        childApplicationRecord.Product_Amount__c = 1000000.00;
        childApplicationRecord.Product_State__c = 'New';
        childApplicationRecord.Product_Status__c = 'Accepted';
        childApplicationRecord.Opportunity_Product_Id__c = '002';
        childApplicationRecord.Limit_Type__c='Reducing - Once Off Only';
        childApplicationRecord.Once_Off_Amount__c=20000;
        childApplicationRecord.Application_Product_Parent__c = parentApplicationRecord.Id;
        insert childApplicationRecord;
         
         

        
         String responseString = '{"IPlistNCARatesV1Response":{"ipb100o":{"ncaMaxfeeCfErr":"0000 - SUCCESS","ncaMaxfeeCfMaxsf":69,"ncaMaxfeeMaErr":"0000 - SUCCESS","ncaMaxfeeMaMaxsf":69,';
        responseString += '"ncaMaxfeeOcaErr":"0000 - SUCCESS","ncaMaxfeeOcaMaxsf":69,"ncaMaxfeeStctErr":"0000 - SUCCESS","ncaMaxfeeStctMaxsf":69,"ncaMaxfeeUctErr":"0000 - SUCCESS",';
        responseString += '"ncaMaxfeeUctMaxsf":69,"ncaMaxifeeCfErr":"0000 - SUCCESS","ncaMaxifeeCfFirst":189.75,"ncaMaxifeeCfMax":6050.5,"ncaMaxifeeCfNext":11.5,"ncaMaxifeeCfPerc":1000,';
        responseString += '"ncaMaxifeeMaErr":"0000 - SUCCESS","ncaMaxifeeMaFirst":1265,"ncaMaxifeeMaMax":6037.5,"ncaMaxifeeMaNext":11.5,"ncaMaxifeeMaPerc":10000,';
        responseString += '"ncaMaxifeeOcaErr":"0000 - SUCCESS","ncaMaxifeeOcaFirst":189.75,"ncaMaxifeeOcaMax":1207.5,"ncaMaxifeeOcaNext":11.5,"ncaMaxifeeOcaPerc":1000,';
        responseString += '"ncaMaxifeeStctErr":"0000 - SUCCESS","ncaMaxifeeStctFirst":189.75,"ncaMaxifeeStctMax":1207.5,"ncaMaxifeeStctNext":11.5,"ncaMaxifeeStctPerc":1000,';
        responseString += '"ncaMaxifeeUctErr":"0000 - SUCCESS","ncaMaxifeeUctFirst":189.75,"ncaMaxifeeUctMax":6040.5,"ncaMaxifeeUctNext":11.5,"ncaMaxifeeUctPerc":1000,';
        responseString += '"ncaMaxrateCfErr":"0000 - SUCCESS","ncaMaxrateCfMaxdr":20.75,"ncaMaxrateMaErr":"0000 - SUCCESS","ncaMaxrateMaMaxdr":19,"ncaMaxrateOcaErr":"0000 - SUCCESS",';
        responseString += '"ncaMaxrateOcaMaxdr":21,"ncaMaxrateStctErr":"0000 - SUCCESS","ncaMaxrateStctMaxdr":60,"ncaMaxrateUctErr":"0000 - SUCCESS","ncaMaxrateUctMaxdr":27.75,';
        responseString += '"primeRate":6.25,"primeRateErr":"0000 - SUCCESS","repurchaseRate":7,"repurchaseRateErr":"0000 - SUCCESS"},"nbsapdpo":{"reasonCode":0,"returnCode":0,';
        responseString += '"serviceVersion":"BUSO001"},"nbsmsgo3":{"nbrUserErrs":0,"nbrUserMsgs":0,"version":"MSG3001"}}}';
      
        Application__c testApplication = new Application__c();
        testApplication.Opportunity__c = opp.Id;
        testApplication.Preferred_Communication_Method__c='himanshu.nimje@absa.africa';
        testApplication.Preferred_SMS__c='065892600';
        testApplication.Preferred_Communication_Method__c='Email';
        testApplication.Fees_Waived__c = true;
        testApplication.Products_And_Services__c = 'NotifyMe';
        testApplication.AIPS__c = responseString;
        //testApplication.Lookup_Period__c=12;
        //testApplication.Enforce_Rework__c='Y';
        //testApplication.NoOfDaysSinceBureauDate__c=22;
        insert testApplication;
         
        Application_Profile__c appProfile=new Application_Profile__c();
        appProfile.Client_CIF_Code__c='SNIFFEL001';
        appProfile.Client_Name__c='Absa Bank';
        appProfile.Application__c=testApplication.Id;
        appProfile.Applicant_Type__c='Main Applicant';
        appProfile.Related_to_Client_Code__c=account.Registration_Number__c;
        //appProfile.Bureau_JSON_Response__c='{"statusCode":200,"status":"OK","message":null,"Fault":null,"Response":{"ApplicationDV":{"DERBUR4LOOKUPDATAUSEDFLAG":"N","DERBUR3LOOKUPDATAUSEDFLAG":"N","DERBUR2LOOKUPDATAUSEDFLAG":"N","DERBUR1LOOKUPDATAUSEDFLAG":"N","CONS":{"TSUMPPSNLR":{"BURTCONSUMPPSNLRTOTCLSACCSL24M":"0","BURTCONSUMPPSNLRTOTADVACCSL24M":"0","BURTCONSUMPPSNLRTOTACTVACCS":"0","BURTCONSUMPPSNLRNOCURRREVACCS":"0","BURTCONSUMPPSNLRNOCURROPACCS":"0","BURTCONSUMPPSNLRNOCURRINSTACCS":"0","BURTCONSUMPPSNLRHIGHMNTHARRL24M":"0","BURTCONSUMPPSNLRCURRMNTHINSTALBALINDDC":null,"BURTCONSUMPPSNLRCURRMNTHINSTAL":"0","BURTCONSUMPPSNLRCURRBALINDDC":null,"BURTCONSUMPPSNLRCURRBAL":"0","BURTCONSUMPPSNLRCMLTVARRAMNTBALINDDC":null,"BURTCONSUMPPSNLRCMLTVARRAMNT":"0"},"TSUMPPSCPA":{"BURTCONSUMPPSCPATOTCLSACCSL24M":"0","BURTCONSUMPPSCPATOTADVACCSL24M":"0","BURTCONSUMPPSCPATOTACTVACCS":"0","BURTCONSUMPPSCPANOCURRREVACCS":"0","BURTCONSUMPPSCPANOCURROPACCS":"0","BURTCONSUMPPSCPANOCURRINSTACCS":"0","BURTCONSUMPPSCPAHIGHMNTHARRL24M":"0","BURTCONSUMPPSCPACURRMNTHINSTALBALINDDC":null,"BURTCONSUMPPSCPACURRMNTHINSTAL":"0","BURTCONSUMPPSCPACURRBALINDDC":null,"BURTCONSUMPPSCPACURRBAL":"0","BURTCONSUMPPSCPACMLTVARRAMNTBALINDDC":null,"BURTCONSUMPPSCPACMLTVARRAMNT":"0"},"TSUMNLRCOUNT":{"BURTCONSUMNLRWRSTMNTHARREVER":"0","BURTCONSUMNLRCMLTVOUTSTBAL":"0","BURTCONSUMNLRCMLTVINSTALVAL":"0"},"TSUMBCC":{"BURTCONSUMWSTSTATUSL3M":null,"BURTCONSUMWSTSTATUSL24M":null,"BURTCONSUMWSTSTATUSL12M":null,"BURTCONSUMWSTSTATUSASATLASTUPD":null,"BURTCONSUMTRDWSTSTSDEFERREDLASTUPD":"-1","BURTCONSUMTRDWSTSTSATLASTUPDOPVF":"-1","BURTCONSUMTRDWSTSTSATLASTUPDOPAL":"-1","BURTCONSUMTRDWSTSTATUSOPENEDL6M":null,"BURTCONSUMTRDWSTSTATUSOPENEDL3M":null,"BURTCONSUMTRDWSTSTATUSOPENEDL24M":null,"BURTCONSUMTRDWSTSTATUSOPENEDL12M":null,"BURTCONSUMTRDWSTSTATUSJOINTLASTUPD":"-1","BURTCONSUMTRDWSTSTATUSCURROPL6M":null,"BURTCONSUMTRDWSTSTATUSCURROPL12M":null,"BURTCONSUMTRDUTILOPRECSATISFCC":"-1","BURTCONSUMTRDUTILOPRECSATISFAL":"-1","BURTCONSUMTRDUTILOPASAT6MAGO":null,"BURTCONSUMTRDUTILOPASAT3MAGO":null,"BURTCONSUMTRDUTILOPASAT12MAGO":null,"BURTCONSUMTRDUTILISATIONOPENLB":"-1","BURTCONSUMTRDUTILISATIONOPENAL":"-1","BURTCONSUMTRDTOTOUTBALOFOPL6MLN":"-1","BURTCONSUMTRDTOTOUTBALOFOPL6MCL":"-1","BURTCONSUMTRDTOTOUTBALOFOPL6MAL":"-1","BURTCONSUMTRDTOTOUTBALOFOPL12M":null,"BURTCONSUMTRDTOTOUTBALOFOP3MAGO":null,"BURTCONSUMTRDTOTOUTBALOFOP12MAGO":null,"BURTCONSUMTRDTOTOUTBALOFOP":null,"BURTCONSUMTRDTOTOUTBAL6MPPASTDUELASTUPD":null,"BURTCONSUMTRDTOTOUTBAL1MPASTDUELASTUPD":null,"BURTCONSUMTRDTOTMNTHINSTDUEONSATISFOP":null,"BURTCONSUMTRDTOTMNTHINSTDUEONOPL12M":null,"BURTCONSUMTRDTOTMNTHINSTDUEONOP12MAGO":null,"BURTCONSUMTRDTOTMNTHINSTDUEONOP":null,"BURTCONSUMTRDTOTMNTHINSTDUEON1MPASTDUELUPD":null,"BURTCONSUMTRDTOTAMNTOFOP12MAGO":null,"BURTCONSUMTRDTOTAMNTARROFOPLASTUPD":null,"BURTCONSUMTRDTOTAMNTARROFOP6MAGO":null,"BURTCONSUMTRDTOTAMNTARROFOP3MAGO":null,"BURTCONSUMTRDTOTAMNTARROFOP12MAGO":null,"BURTCONSUMTRDTOTAMNTARR6MPPASTDUELASTUPD":null,"BURTCONSUMTRDTOTAMNTARR3MPASTDUELASTUPD":null,"BURTCONSUMTRDTOTAMNTARR1MPASTDUELASTUPD":null,"BURTCONSUMTRDTOTAMNT1MPASTDUELASTUPD":null,"BURTCONSUMTRDNUMSL":null,"BURTCONSUMTRDNUMOPUTILIZED75PERC":null,"BURTCONSUMTRDNUMOPUTILIZED100PERC":null,"BURTCONSUMTRDNUMOPL24MLN":"-1","BURTCONSUMTRDNUMOPL24MLB":"-1","BURTCONSUMTRDNUMOPL24MAL":"-1","BURTCONSUMTRDNUMOPL18M":null,"BURTCONSUMTRDNUMOPL12M":null,"BURTCONSUMTRDNUMOPASAT6MAGO":null,"BURTCONSUMTRDNUMOPASAT3MAGO":null,"BURTCONSUMTRDNUMOPASAT18MAGO":null,"BURTCONSUMTRDNUMOPASAT12MAGO":null,"BURTCONSUMTRDNUMJOINT3MPLUSPASTDUE":"-1","BURTCONSUMTRDNUMJOINT2MPLUSPASTDUE":"-1","BURTCONSUMTRDNUMJOINT1MPLUSPASTDUE":"-1","BURTCONSUMTRDNUMCC":"-1","BURTCONSUMTRDNUMBEROPJOINT":"-1","BURTCONSUMTRDNUMBERJOINT":"0","BURTCONSUMTRDNUMATMOST5MPARRL6M":null,"BURTCONSUMTRDNUMATMOST5MPARRL3MCL":"-1","BURTCONSUMTRDNUMATMOST5MPARRL3MAL":"-1","BURTCONSUMTRDNUMATMOST5MPARRL12M":null,"BURTCONSUMTRDNUMATMOST4MARRL3M":null,"BURTCONSUMTRDNUMATMOST1MARRL6M":null,"BURTCONSUMTRDNUMATMOST1MARRL3M":null,"BURTCONSUMTRDNUMAL":"0","BURTCONSUMTRDNUMACTVLN":"-1","BURTCONSUMTRDNUMACTVAL":"-1","BURTCONSUMTRDNUM5MPASTDUE":null,"BURTCONSUMTRDNUM3MPASTDUEVF":"-1","BURTCONSUMTRDNUM3MPASTDUEAL":"-1","BURTCONSUMTRDNUM2MPASTDUE":null,"BURTCONSUMTRDNUM1MPASTDUE":null,"BURTCONSUMTRDDAYSYOUNGESTOPLO":"-1","BURTCONSUMTRDDAYSYOUNGESTOPLN":"-1","BURTCONSUMTRDDAYSYOUNGESTOPLB":null,"BURTCONSUMTRDDAYSYOUNGESTOPFO":"-1","BURTCONSUMTRDDAYSYOUNGESTOPAL":"-1","BURTCONSUMTRDDAYSYOUNGEST":null,"BURTCONSUMTRDAVGUTILOPFORP6MCC":"-1","BURTCONSUMTRDAVGUTILOPFORP6MAL":"-1","BURTCONSUMTRDAVGUTILOPFORP3M":null,"BURTCONSUMTRDAVGUTILOPFORP12MCC":"-1","BURTCONSUMTRDAVGUTILOPFORP12MAL":"-1","BURTCONSUMTRDAVGOUTBALOFOPL6M":null,"BURTCONSUMTRDAVGOUTBALOFOPL3M":null,"BURTCONSUMTRDAVGOUTBALOFOPL12M":null,"BURTCONSUMTRDAVGMNTHSONFILECC":"-1","BURTCONSUMTRDAVGMNTHSONFILEAL":"-1","BURTCONSUMTRDAVGMNTHINSTDUEONOPL6M":null,"BURTCONSUMTRDAVGMNTHINSTDUEONOPL12M":null,"BURTCONSUMTRDAVGAMNTOFOPL6M":null,"BURTCONSUMTRDAVGAMNTOFOPL12M":null,"BURTCONSUMTRDAVGAGEOPENSATISFACTORYMB":"-1","BURTCONSUMTRDAVGAGEOPENSATISFACTORYAL":"-1","BURTCONSUMTRDAGEOLDESTVF":"-1","BURTCONSUMTRDAGEOLDESTOPSATISFACTORY":null,"BURTCONSUMTRDAGEOLDESTAL":"-1","BURTCONSUMTRDAGEMRECLAPSED":null,"BURTCONSUMTRDAGEMRECADVPAIDUP":null,"BURTCONSUMTOTAMNTOFWOFFSORREPOS":null,"BURTCONSUMTOTAMNTOFLEGALACTIONS":null,"BURTCONSUMSOLEPROPWSTSTSTRADESLASTUPD":"-1","BURTCONSUMSOLEPROPNUMTRADES":"0","BURTCONSUMSOLEPROPNUMOPTRADES":"-1","BURTCONSUMNOTAGEYOUNGESTFINALSEQSTR":null,"BURTCONSUMMNTHSMREC5MPLUSARRVF":"-1","BURTCONSUMMNTHSMREC5MPLUSARRAL":"-1","BURTCONSUMMNTHSMREC4MARRVF":"-1","BURTCONSUMMNTHSMREC4MARRAL":"-1","BURTCONSUMMNTHSMREC3MARRVF":"-1","BURTCONSUMMNTHSMREC3MARRAL":"-1","BURTCONSUMMNTHSMREC2MARRVF":"-1","BURTCONSUMMNTHSMREC2MARRCC":"-1","BURTCONSUMMNTHSMREC2MARRAL":"-1","BURTCONSUMMNTHSMREC1MARRTE":"-1","BURTCONSUMMNTHSMREC1MARRCC":"-1","BURTCONSUMMNTHSMREC1MARRAL":"-1","BURTCONSUMJUDTOTAMNT":"-2","BURTCONSUMENQNUML1M":null,"BURTCONSUMENQNUML14D":null,"BURTCONSUMENQNUML12M":null,"BURTCONSUMENQNUMDEDUPL6M":null,"BURTCONSUMENQNUMDEDUPL3MFL":"-1","BURTCONSUMENQNUMDEDUPL3MAL":"-1","BURTCONSUMENQNUMDEDUPL1MPL":"-1","BURTCONSUMENQNUMDEDUPL1MFL":"-1","BURTCONSUMENQNUMDEDUPL1MAL":"-1","BURTCONSUMENQNUMDEDUPL14DFL":"-1","BURTCONSUMENQNUMDEDUPL14DAL":"-1","BURTCONSUMENQNUMDEDUP":null,"BURTCONSUMENQNUM":null,"BURTCONSUMENQDAYSYOUNGESTPL":"-1","BURTCONSUMENQDAYSYOUNGESTAL":"-1","BURTCONSUMENQAGEOLDESTCL":"-1","BURTCONSUMENQAGEOLDESTAL":"-1","BURTCONSUMDMGRRSAIDLOGICCHECK":"Y","BURTCONSUMDMGRRSACITIZENIND":"Y","BURTCONSUMDMGROWNERTENANT":"-","BURTCONSUMDMGRNUMDEPENDANTS":"0","BURTCONSUMDMGRMARITALSTATUS":"-0","BURTCONSUMDMGRGENDER":"M","BURTCONSUMDMGRDISPUTEIND":"N","BURTCONSUMDMGRDECEASEDIND":"N","BURTCONSUMDMGRDEBTREVIEWIND":"N","BURTCONSUMDMGRAGE":"78","BURTCONSUMDEFPAYMNTSNUMCUROPACCS":"-1","BURTCONSUMDEFPAYMNTSNUM":"0","BURTCONSUMAGEMRECWOFFORREPOS":null,"BURTCONSUMAGEMRECREVOKEDFACILITY":null,"BURTCONSUMAGEMRECLEGALACTION":null,"BURTCONSUMADVTOTAMNTFROMWOFFREPOS":"-2","BURTCONSUMADVTOTAMNT":"-2"},"TSUMAGG":{"BURTCONSUMTRATOTL90D":null,"BURTCONSUMTRATOTL60D":"0","BURTCONSUMTRATOTL30D":"0","BURTCONSUMTRATOTL180D":null,"BURTCONSUMTRATOTEVER":"0","BURTCONSUMTRAALLL2Y":"0","BURTCONSUMTRAALLL1Y":null,"BURTCONSUMPPSTOTREVACCOWN":null,"BURTCONSUMPPSTOTREVACCOTH":null,"BURTCONSUMPPSTOTREVACC":"0","BURTCONSUMPPSTOTOPACCALL":"0","BURTCONSUMPPSTOTOPACCACTV":null,"BURTCONSUMPPSTOTNOACTVREVACC":null,"BURTCONSUMPPSTOTINSTLACCALL":"0","BURTCONSUMPPSTOTINSTLACCACTV":null,"BURTCONSUMPPSTOTBALACTVREVACC":null,"BURTCONSUMPPSNLRTOTOPL90D":null,"BURTCONSUMPPSNLRTOTOPL60D":null,"BURTCONSUMPPSNLRTOTOPL30D":null,"BURTCONSUMPPSNLRTOTACTACC":null,"BURTCONSUMPPSNLROWNVALINSTAL":null,"BURTCONSUMPPSNLROWNNUMPPSMRECSTATUSWROFF":null,"BURTCONSUMPPSNLROWNCURBALACTIVE":null,"BURTCONSUMPPSNLROTHWSTARRLVLL180D":null,"BURTCONSUMPPSNLROTHVALINSTAL":null,"BURTCONSUMPPSNLROTHNUMMRECSTATUSWROFF":null,"BURTCONSUMPPSNLROTHNOTIMES2PARRL2Y":null,"BURTCONSUMPPSNLROTHCURBALACTIVE":null,"BURTCONSUMPPSNLRDATEMRPP":null,"BURTCONSUMPPSNLRALLWSTSTATUSACTVL90D":null,"BURTCONSUMPPSNLRALLWSTSTATUSACTVACCL1Y":null,"BURTCONSUMPPSNLRALLWSTSTATUSACTVACCL180D":null,"BURTCONSUMPPSNLRALLWSTARRSTATUSL60D":null,"BURTCONSUMPPSNLRALLWSTARRSTATUSL30D":null,"BURTCONSUMPPSNLRALLWSTARRSTATUSL2Y":null,"BURTCONSUMPPSNLRALLWSTARRSTATUSL120D":null,"BURTCONSUMPPSNLRALLWSTARROPEVER":null,"BURTCONSUMPPSNLRALLWSTARRLVLMRCOP":null,"BURTCONSUMPPSNLRALLWSTARRLVLL90D":null,"BURTCONSUMPPSNLRALLWSTARRLVLL1Y":null,"BURTCONSUMPPSNLRALLWSTARRLVLL180D":null,"BURTCONSUMPPSNLRALLWSTARREVER":null,"BURTCONSUMPPSNLRALLWSTARRCLSDEVER":null,"BURTCONSUMPPSNLRALLVALINSTAL":null,"BURTCONSUMPPSNLRALLTOTVALCURBALACTVARR9MP":null,"BURTCONSUMPPSNLRALLTOTVALCURBALACTVARR6MP":null,"BURTCONSUMPPSNLRALLTOTVALCURBALACTVARR3MP":null,"BURTCONSUMPPSNLRALLSTATUSMRECOP":null,"BURTCONSUMPPSNLRALLPERC3PARRL2Y":null,"BURTCONSUMPPSNLRALLNUMPAYMNTTYPEUNDERADMINISTR":null,"BURTCONSUMPPSNLRALLNUMPAYMNTTYPEJUDGRANTED":null,"BURTCONSUMPPSNLRALLNUMOPL1Y":null,"BURTCONSUMPPSNLRALLNUMOPL180D":null,"BURTCONSUMPPSNLRALLNUMMRECSTATUSC":null,"BURTCONSUMPPSNLRALLNUMEVER":"0","BURTCONSUMPPSNLRALLNOTIMES3PARRL2Y":null,"BURTCONSUMPPSNLRALLMNTHSMRECOP":null,"BURTCONSUMPPSNLRALLMNTHSMRECARRWRS":null,"BURTCONSUMPPSNLRALLCURBALACTIVE":null,"BURTCONSUMPPSNLRALLAGEMRECSTATUSCODEW":null,"BURTCONSUMPPSNLRALLAGEMRECSTATUSCODEL":null,"BURTCONSUMPPSNLRALLAGEMRECSTATUSCODEJ":null,"BURTCONSUMPPSNLRALLAGEMRECSTATUSCODEI":null,"BURTCONSUMPPSJOINTLOANOWN":null,"BURTCONSUMPPSJOINTLOANOTH":null,"BURTCONSUMPPSJOINTLOANALL":"0","BURTCONSUMPPSCPAOWNVALINSTAL":null,"BURTCONSUMPPSCPAOWNNUMMRECSTATUSWROFF":null,"BURTCONSUMPPSCPAOWNCURBALACTIVE":null,"BURTCONSUMPPSCPAOTHWSTARRSTATUSL30D":null,"BURTCONSUMPPSCPAOTHVALINSTAL":null,"BURTCONSUMPPSCPAOTHNUMMRECSTATUSWROFF":null,"BURTCONSUMPPSCPAOTHCURBALACTIVE":null,"BURTCONSUMPPSCPADATEMRPP":null,"BURTCONSUMPPSCPAALLWSTSTATUSACTVL90D":null,"BURTCONSUMPPSCPAALLWSTSTATUSACTVACCL1Y":null,"BURTCONSUMPPSCPAALLWSTSTATUSACTVACCL180D":null,"BURTCONSUMPPSCPAALLWSTARROPEVER":null,"BURTCONSUMPPSCPAALLWSTARRLVLL90D":null,"BURTCONSUMPPSCPAALLWSTARRLVLL60D":null,"BURTCONSUMPPSCPAALLWSTARRLVLL30D":null,"BURTCONSUMPPSCPAALLWSTARRLVLL2Y":null,"BURTCONSUMPPSCPAALLWSTARRLVLL1Y":null,"BURTCONSUMPPSCPAALLWSTARRLVLL180D":null,"BURTCONSUMPPSCPAALLWSTARRLVLL120D":null,"BURTCONSUMPPSCPAALLWSTARRLEVLMRECOP":null,"BURTCONSUMPPSCPAALLWSTARREVER":null,"BURTCONSUMPPSCPAALLWSTARRCLSDEVER":null,"BURTCONSUMPPSCPAALLVALINSTAL":null,"BURTCONSUMPPSCPAALLTOTVALCURBALACTVARR9MP":null,"BURTCONSUMPPSCPAALLTOTVALCURBALACTVARR6MP":null,"BURTCONSUMPPSCPAALLTOTVALCURBALACTVARR3MP":null,"BURTCONSUMPPSCPAALLSTATUSMRECOP":null,"BURTCONSUMPPSCPAALLPERC3PARRL2Y":null,"BURTCONSUMPPSCPAALLNUMPAYMNTTYPEUNDERADMINISTR":null,"BURTCONSUMPPSCPAALLNUMPAYMNTTYPEJUDGRANTED":null,"BURTCONSUMPPSCPAALLNUMOPL1Y":null,"BURTCONSUMPPSCPAALLNUMOPL180D":null,"BURTCONSUMPPSCPAALLNUMMRECSTATUSC":null,"BURTCONSUMPPSCPAALLNUMEVER":null,"BURTCONSUMPPSCPAALLNOTIMES3SARRL2Y":null,"BURTCONSUMPPSCPAALLMNTHSSINCEMRECARRWRS":null,"BURTCONSUMPPSCPAALLMNTHSMRECOP":null,"BURTCONSUMPPSCPAALLCURROPEN":null,"BURTCONSUMPPSCPAALLCURBALACTIVE":null,"BURTCONSUMPPSCPAALLAGEMRECSTATUSCODEW":null,"BURTCONSUMPPSCPAALLAGEMRECSTATUSCODEL":null,"BURTCONSUMPPSCPAALLAGEMRECSTATUSCODEJ":null,"BURTCONSUMPPSCPAALLAGEMRECSTATUSCODEI":null,"BURTCONSUMNOTTOTL5Y":"0","BURTCONSUMNOTTOTL4Y":"0","BURTCONSUMNOTTOTL3Y":"0","BURTCONSUMNOTTOTL2Y":"0","BURTCONSUMNOTTOTL1Y":"0","BURTCONSUMNOTTOTEVER":"0","BURTCONSUMNOTTOTDSMR":"0","BURTCONSUMNOTTOT90D":"0","BURTCONSUMNOTTOT30D":"0","BURTCONSUMNOTTOT180D":"0","BURTCONSUMNOTNUMREHABTYPE":"0","BURTCONSUMNOTNUMPROVISIONALSEQUESTRTYPE":null,"BURTCONSUMNOTNUMINTENTSURRENDTYPE":"0","BURTCONSUMNOTNUMFINALSEQUESTRTYPE":"0","BURTCONSUMNOTNUMADMORDTYPE":"0","BURTCONSUMNOTNUMADMORDABANDTYPE":null,"BURTCONSUMNOTMRECAMT":"0","BURTCONSUMNEGVALMREC":null,"BURTCONSUMNEGTOTVAL":null,"BURTCONSUMNEGTOTL90D":null,"BURTCONSUMNEGTOTL5Y":null,"BURTCONSUMNEGTOTL2Y":null,"BURTCONSUMNEGTOTL1Y":null,"BURTCONSUMNEGTOTL180D":null,"BURTCONSUMNEGTOTEVER":"0","BURTCONSUMNEGMNTHSMREC":null,"BURTCONSUMNEGMNTHSHIGHEST":null,"BURTCONSUMNEGHIGHESTVAL":null,"BURTCONSUMNEGDAYSMREC":null,"BURTCONSUMNEGDATEMREC":null,"BURTCONSUMNEGDATEHIGHEST":null,"BURTCONSUMNBTOTVAL":null,"BURTCONSUMNBTOTNUM":null,"BURTCONSUMNBDATEMREC":null,"BURTCONSUMJUDVALMREC":null,"BURTCONSUMJUDTOTVAL":"0","BURTCONSUMJUDTOTPREV6M":"0","BURTCONSUMJUDTOTL90D":"0","BURTCONSUMJUDTOTL5Y":"0","BURTCONSUMJUDTOTL4Y":"0","BURTCONSUMJUDTOTL3Y":"0","BURTCONSUMJUDTOTL30D":"0","BURTCONSUMJUDTOTL2Y":"0","BURTCONSUMJUDTOTL1Y":"0","BURTCONSUMJUDTOTL180D":"0","BURTCONSUMJUDTOTGT36M":"0","BURTCONSUMJUDTOTEXCLCURRYEAR":"0","BURTCONSUMJUDTOTEVER":"0","BURTCONSUMJUDTOTCURR1Y":"0","BURTCONSUMJUDTOT6TO18M":"0","BURTCONSUMJUDTOT24TO36M":"0","BURTCONSUMJUDTOT18TO36M":"0","BURTCONSUMJUDTOT18TO24M":"0","BURTCONSUMJUDMNTHSMREC":null,"BURTCONSUMJUDMNTHSHIGHEST":null,"BURTCONSUMJUDHIGHESTVAL":null,"BURTCONSUMJUDDATEMREC":null,"BURTCONSUMJUDDATEHIGHEST":null,"BURTCONSUMENQNLRMSO":null,"BURTCONSUMENQNLRMSMR":null,"BURTCONSUMENQNLRL7D":null,"BURTCONSUMENQNLRL30D":null,"BURTCONSUMENQNLRDSMR":null,"BURTCONSUMENQNLRDATEMOSTREC":null,"BURTCONSUMENQNLRALLTOTEVER":"0","BURTCONSUMENQNLRALLL90D":null,"BURTCONSUMENQNLRALLL2Y":null,"BURTCONSUMENQNLRALLL1Y":null,"BURTCONSUMENQNLRALLL180D":null,"BURTCONSUMENQCPAMSO":null,"BURTCONSUMENQCPAMSMR":null,"BURTCONSUMENQCPAL30D":null,"BURTCONSUMENQCPADSMR":null,"BURTCONSUMENQCPADATEMOSTREC":null,"BURTCONSUMENQCPAALLTOTEVER":"0","BURTCONSUMENQCPAALLL90D":null,"BURTCONSUMENQCPAALLL2Y":null,"BURTCONSUMENQCPAALLL1Y":null,"BURTCONSUMENQCPAALLL180D":null,"BURTCONSUMADVVALMREC":null,"BURTCONSUMADVTOTVAL":"0","BURTCONSUMADVTOTPREV6M":"0","BURTCONSUMADVTOTL90D":"0","BURTCONSUMADVTOTL30D":"0","BURTCONSUMADVTOTL180D":"0","BURTCONSUMADVTOTEXCLCURRYEAR":"0","BURTCONSUMADVTOTEVER":"0","BURTCONSUMADVTOTCURR1Y":"0","BURTCONSUMADVTOT6TO18M":"0","BURTCONSUMADVTOT18TO24M":"0","BURTCONSUMADVMNTHSMREC":"0","BURTCONSUMADVMNTHSHIGHEST":null,"BURTCONSUMADVHIGHESTVAL":null,"BURTCONSUMADVDATEMREC":null,"BURTCONSUMADVDATEHIGHEST":null,"BURTCONSUMADVALLL2Y":"0","BURTCONSUMADVALLL1Y":"0"},"TENRSUM":{"BURTCONENRSUMPPSALLWSTARRSTATUSL60D":"\"\"","BURTCONENRSUMPPSALLWSTARRSTATUSL30D":"\"\"","BURTCONENRSUMPPSALLWSTARRSTATUSL2Y":"\"\"","BURTCONENRSUMPPSALLWSTARRSTATUSL120D":"\"\"","BURTCONENRSUMPPSALLWSTARROPEVER":"\"\"","BURTCONENRSUMPPSALLWSTARRLEVELL90D":"\"\"","BURTCONENRSUMPPSALLWSTARRLEVELL1Y":"\"\"","BURTCONENRSUMPPSALLWSTARRLEVELL180D":"\"\"","BURTCONENRSUMPPSALLWSTARREVER":"\"\"","BURTCONENRSUMPPSALLVALWOFF":null,"BURTCONENRSUMPPSALLVALMRECWOFF":null,"BURTCONENRSUMPPSALLVALHIGHWOFF":null,"BURTCONENRSUMPPSALLTOTVAFINSTL":"0","BURTCONENRSUMPPSALLTOTTELINSTL":"0","BURTCONENRSUMPPSALLTOTSECINSTL":"0","BURTCONENRSUMPPSALLTOTRETINSTL":"0","BURTCONENRSUMPPSALLTOTODLINSTL":"0","BURTCONENRSUMPPSALLTOTODBTINSTL":"0","BURTCONENRSUMPPSALLTOTLIVINGEXPENSES":"0","BURTCONENRSUMPPSALLTOTINSINSTL":"0","BURTCONENRSUMPPSALLTOTENTINSTL":"0","BURTCONENRSUMPPSALLTOTEDUINSTL":"0","BURTCONENRSUMPPSALLTOTCREDITCOMMITMENTS":"0","BURTCONENRSUMPPSALLTOTCCINSTL":"0","BURTCONENRSUMPPSALLTOTBNDINSTL":"0","BURTCONENRSUMPPSALLOWNVALINSTALMENTS":"0","BURTCONENRSUMPPSALLOWNCURBALACTIVE":"0","BURTCONENRSUMPPSALLOTHVALINSTALMENTS":"0","BURTCONENRSUMPPSALLOTHCURBALACTIVE":"0","BURTCONENRSUMPPSALLNUMWOFF":"0","BURTCONENRSUMPPSALLNUMMRECWOFF":null,"BURTCONENRSUMPPSALLNUMHIGHWOFF":null,"BURTCONENRSUMPPSALLDAYSSINCEMOSTRECOP":"0","BURTCONENRSUMPPSALLCURBALACTIVE":"0","BURTCONENRSUMPPSALLCLSPPS":"0","BURTCONENRSUMNOTWRSTTYPE":null,"BURTCONENRSUMNOTMRECTYPE":null,"BURTCONENRSUMMNTHSWRSTTYPE":null,"BURTCONENRSUMMNTHSSNCEREHAB":null,"BURTCONENRSUMMNTHSMRECTYPE":"0","BURTCONENRSUMJUDMNTHSMREC":null,"BURTCONENRSUMEVERINSOLVENT":null,"BURTCONENRSUMENQALLTOTEVER":"0","BURTCONENRSUMENQALLL90D":"0","BURTCONENRSUMENQALLL2Y":"0","BURTCONENRSUMENQALLL1Y":"0","BURTCONENRSUMENQALLL180D":"0","BURTCONENRSUMADVMONTHSMOSTRECENT":null},"TENRDETPPSTELECOMM":null,"TENRDETPPSSECURITY":null,"TENRDETPPSRETACCOUNTS":null,"TENRDETPPSOTHDEBTREPAY":null,"TENRDETPPSLOANOVDRT":null,"TENRDETPPSINSURANCE":null,"TENRDETPPSENTERTAINMENT":null,"TENRDETPPSEDUCATION":null,"TENRDETPPSCREDITCARD":null,"TENRDETPPSBONDMRTG":null,"TENRDETPPSASSETFIN":null,"TDETTRA":null,"TDETNOT":null,"TDETJUD":null,"TDETFPS":null,"TDETENQNLRALL":null,"TDETENQCPAALL":null,"TCONSRETURNDATA":{"BURTCONDETINFSURNAME":"KEARTLAND","BURTCONDETINFID1":"4205239161087","BURTCONDETINFFNAME1":"EDWARD HUGH LEW","BURTCONDETINFDOB":"19420523","BURTCONDETIDVIDVERIFIEDIND":"N","BURTCONDETIDVDECEASEIND":"N","BURTCONDETDSPDISPUTEIND":"N","BURTCONDETDBTREVEWIND":"N"},"ESUMTRA":{"BURECONSUMTRATOTL1Y":null,"BURECONSUMTRATOTL180D":null,"BURECONSUMTRATOTEVER":null,"BURECONSUMTRATOT90D":null},"ESUMPPNLRALL":{"BURECONSUMPPSNLRALLWSTARROPEVER":null,"BURECONSUMPPSNLRALLWSTARRLEVLMRCOPEN":null,"BURECONSUMPPSNLRALLWSTARRL90D":null,"BURECONSUMPPSNLRALLWSTARRL1Y":null,"BURECONSUMPPSNLRALLWSTARRL180D":null,"BURECONSUMPPSNLRALLWSTARREVER":null,"BURECONSUMPPSNLRALLWSTARRCLEVER":null,"BURECONSUMPPSNLRALLTOTMONTHLYINSTL":null,"BURECONSUMPPSNLRALLTOTEVER":null,"BURECONSUMPPSNLRALLNUM3PARRL3M":null,"BURECONSUMPPSNLRALLNUM3PARRL24M":null,"BURECONSUMPPSNLRALLNUM3PARRL12M":null,"BURECONSUMPPSNLRALLNUM2PARRL24M":null,"BURECONSUMPPSNLRALLNUM0PARRL6M":null,"BURECONSUMPPSNLRALLNUM0PARRL3M":null,"BURECONSUMPPSNLRALLNUM0PARRL12M":null,"BURECONSUMPPSNLRALLNOCURROPEN":null,"BURECONSUMPPSNLRALLNOALLL180D":null,"BURECONSUMPPSNLRALLMSO":null,"BURECONSUMPPSNLRALLL1Y":null},"ESUMPPCPAALL":{"BURECONSUMPPSCPAALLWSTARROPEVER":null,"BURECONSUMPPSCPAALLWSTARRLEVLMRCOPEN":null,"BURECONSUMPPSCPAALLWSTARRL90D":null,"BURECONSUMPPSCPAALLWSTARRL1Y":null,"BURECONSUMPPSCPAALLWSTARRL180D":null,"BURECONSUMPPSCPAALLWSTARREVER":null,"BURECONSUMPPSCPAALLWSTARRCLEVER":null,"BURECONSUMPPSCPAALLTOTOUTBAL":null,"BURECONSUMPPSCPAALLTOTNOL2Y":null,"BURECONSUMPPSCPAALLTOTNOL1Y":null,"BURECONSUMPPSCPAALLTOTNOL180D":null,"BURECONSUMPPSCPAALLTOTMONTHLYINSTL":null,"BURECONSUMPPSCPAALLTOTCREDITLIMITOFREV":null,"BURECONSUMPPSCPAALLNUM3PARRL6M":null,"BURECONSUMPPSCPAALLNUM3PARRL3M":null,"BURECONSUMPPSCPAALLNUM3PARRL24M":null,"BURECONSUMPPSCPAALLNUM3PARRL12M":null,"BURECONSUMPPSCPAALLNUM2PARRL6M":null,"BURECONSUMPPSCPAALLNUM2PARRL3M":null,"BURECONSUMPPSCPAALLNUM1PARRL3M":null,"BURECONSUMPPSCPAALLNUM0PARRL24M":null,"BURECONSUMPPSCPAALLNOCURROP":null,"BURECONSUMPPSCPAALLMSO":null,"BURECONSUMPPSCPAALLMNTHSMOSTRECOP":null},"ESUMNOT":{"BURECONSUMNOTNUML90D":null,"BURECONSUMNOTNUML2Y":null,"BURECONSUMNOTNUML1Y":null,"BURECONSUMNOTNUML180D":null,"BURECONSUMNOTNUMEVER":null,"BURECONSUMNOTMOSTRECDATE":null,"BURECONSUMNOTMOSTRECAMT":null},"ESUMNEG":{"BURECONSUMNEGALLVALMRC":null,"BURECONSUMNEGALLTOTL90D":null,"BURECONSUMNEGALLTOTL5Y":null,"BURECONSUMNEGALLTOTL2Y":null,"BURECONSUMNEGALLTOTL1Y":null,"BURECONSUMNEGALLTOTL180D":null,"BURECONSUMNEGALLTOTEVER":null,"BURECONSUMNEGALLMTHHIGH":null,"BURECONSUMNEGALLMSMR":null,"BURECONSUMNEGALLHIGHVAL":null},"ESUMJUD":{"BURECONSUMJUDVALMRC":null,"BURECONSUMJUDTOTVAL":null,"BURECONSUMJUDTOTL90D":null,"BURECONSUMJUDTOTL2Y":null,"BURECONSUMJUDTOTL1Y":null,"BURECONSUMJUDTOTL180D":null,"BURECONSUMJUDTOTEVER":null,"BURECONSUMJUDMTHHIGH":null,"BURECONSUMJUDMSMR":null,"BURECONSUMJUDHIGHVAL":null,"BURECONSUMJUDDATEMRC":null},"ESUMENQNLROWN":{"BURECONSUMENQNLROWNTOTL90D":null,"BURECONSUMENQNLROWNTOTL30D":null,"BURECONSUMENQNLROWNTOTL1Y":null,"BURECONSUMENQNLROWNTOTL180D":null,"BURECONSUMENQNLROWNTOTEVER":null,"BURECONSUMENQNLROWNMONTHMRC":null},"ESUMENQNLROTH":{"BURECONSUMENQNLROTHTOTL90D":null,"BURECONSUMENQNLROTHTOTL30D":null,"BURECONSUMENQNLROTHTOTL1Y":null,"BURECONSUMENQNLROTHTOTL180D":null,"BURECONSUMENQNLROTHTOTEVER":null,"BURECONSUMENQNLROTHMONTHMRC":null},"ESUMENQNLRALL":{"BURECONSUMENQNLRALLTOTL90D":null,"BURECONSUMENQNLRALLTOTL1Y":null},"ESUMENQCPAOWN":{"BURECONSUMENQCPAOWNTOTL90D":null,"BURECONSUMENQCPAOWNTOTL30D":null,"BURECONSUMENQCPAOWNTOTL1Y":null,"BURECONSUMENQCPAOWNTOTL180D":null,"BURECONSUMENQCPAOWNTOTEVER":null,"BURECONSUMENQCPAOWNMONTHMRC":null},"ESUMENQCPAOTH":{"BURECONSUMENQCPAOTHTOTL90D":null,"BURECONSUMENQCPAOTHTOTL30D":null,"BURECONSUMENQCPAOTHTOTL1Y":null,"BURECONSUMENQCPAOTHTOTL180D":null,"BURECONSUMENQCPAOTHTOTEVER":null,"BURECONSUMENQCPAOTHMONTHMRC":null},"ESUMENQCPAALL":{"BURECONSUMENQCPAALLTOTL90D":null,"BURECONSUMENQCPAALLTOTL1Y":null,"BURECONSUMENQCPAALLTOTL180D":null,"BURECONSUMENQCPAALLMSO":null},"ESUMCOL":{"BURECONSUMCOLVALMRC":null,"BURECONSUMCOLTOTL90D":null,"BURECONSUMCOLTOTL2Y":null,"BURECONSUMCOLTOTL1Y":null,"BURECONSUMCOLTOTL180D":null,"BURECONSUMCOLTOTEVER":null,"BURECONSUMCOLTOTCAPVAL":null,"BURECONSUMCOLTOTAMTOPL12M":null,"BURECONSUMCOLMTHHIGH":null,"BURECONSUMCOLMSMR":null,"BURECONSUMCOLHIGHVAL":null,"BURECONSUMCOLDATEMRC":null},"ESUMADVNLR":{"BURECONSUMADVNLRVALMRC":null,"BURECONSUMADVNLRTOTVAL":null,"BURECONSUMADVNLRTOTL2Y":null,"BURECONSUMADVNLRTOTL1Y":null,"BURECONSUMADVNLRTOTL180D":null,"BURECONSUMADVNLRTOTEVER":null,"BURECONSUMADVNLRMSMR":null,"BURECONSUMADVNLRHIGHVAL":null},"ESUMADVCPA":{"BURECONSUMADVCPAVALMRC":null,"BURECONSUMADVCPATOTVAL":null,"BURECONSUMADVCPATOTL2Y":null,"BURECONSUMADVCPATOTL1Y":null,"BURECONSUMADVCPATOTL180D":null,"BURECONSUMADVCPATOTEVER":null,"BURECONSUMADVCPAMSMR":null,"BURECONSUMADVCPAHIGHVAL":null},"EENRSUM":null,"EENRDETPPSTELECOMM":null,"EENRDETPPSSECURITY":null,"EENRDETPPSRETACCOUNTS":null,"EENRDETPPSOTHDEBTREPAY":null,"EENRDETPPSLOANOVDRT":null,"EENRDETPPSINSURANCE":null,"EENRDETPPSENTERTAINMENT":null,"EENRDETPPSEDUCATION":null,"EENRDETPPSCREDITCARD":null,"EENRDETPPSBONDMRTG":null,"EENRDETPPSASSETFIN":null,"EDETSHW":null,"EDETNOT":null,"EDETJUD":null,"EDETENQNLROWN":null,"EDETENQNLROTH":null,"EDETENQCPAOWN":null,"EDETENQCPAOTH":null,"EDETCOL":null,"ECONSRETURNDATA":{"BURECONMATCHTIME":null,"BURECONMATCHSURNAME":null,"BURECONMATCHSESSID":null,"BURECONMATCHNAME":null,"BURECONMATCHID":null,"BURECONMATCHDOB":null,"BURECONMATCHDATE":null}},"APPTIME":"10:05:29","APPPCCEID":"000000430499","APPDATE":"2021-04-07"}}}';
        appProfile.Bureau_JSON_Response__c='{"statusCode":200,"status":"OK","message":null,"Fault":null,"Response":{"ApplicationDV":{"APPDATE":"2021-04-07"}}}';
        insert appProfile;
         
        application_scoring__c appScore=new application_scoring__c();
        appScore.Stage__c='5';
        appScore.Application_Number__c=testApplication.Id;
        insert appScore;
        
        Application_Scoring_Entity__c scoEntity5=new Application_Scoring_Entity__c();
        scoEntity5.Application_Scoring__c=appScore.Id;
        scoEntity5.Enforce_Rework__c='Y';
        scoEntity5.Entity_Number__c='1';
        scoEntity5.Lookup_Period__c=12;
        insert scoEntity5;
         
         ConsumerBureauEnquiry_Resp_IB_v1 responseBean = (ConsumerBureauEnquiry_Resp_IB_v1) JSON.deserialize(appProfile.Bureau_JSON_Response__c, ConsumerBureauEnquiry_Resp_IB_v1.class);
            string appDate = responseBean.Response.ApplicationDV.APPDATE;
            testApplication.Lookup_Period__c = scoEntity5.Lookup_Period__c;
            testApplication.Enforce_Rework__c = scoEntity5.Enforce_Rework__c;
            testApplication.Bureau_Date__c = date.valueOf(appDate);
            testApplication.NoOfDaysSinceBureauDate__c = testApplication.Bureau_Date__c.daysBetween(Date.today());
            update testApplication;

        Security_Offered__c security = new Security_Offered__c();
        security.Application__c = testApplication.Id;
        security.Security_Type__c = 'Bonds';
        insert security;
        
        
        SetProductTOBController.insertTob(parentApplicationRecord.Id);
         
         SetProductTOBController.updateTOB(parentApplicationRecord.Id);
         
       // SetProductTOBController.insertTob(parentApplicationRecord1.Id);
        //
        
      opp.Sanctioning_SLA_Start_Date__c = system.now();
         update opp;
         
       ProductTermsOfBusinessController.ProductTOB tob = new ProductTermsOfBusinessController.ProductTOB();
        tob.appProdId = parentApplicationRecord.Id;
        tob.appProduct = parentApplicationRecord;
        tob.termstobList = new List<Terms_Of_Business__c>();
        
        //tob.appProductHistory = new List<ProductTermsOfBusinessController.appProdHistory> ();
        
       // ProductTermsOfBusinessController.appProdHistory appHis = new ProductTermsOfBusinessController.appProdHistory();
        
       }
}