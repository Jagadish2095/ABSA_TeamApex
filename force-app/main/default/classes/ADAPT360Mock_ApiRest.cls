@isTest
global class ADAPT360Mock_ApiRest implements HttpCalloutMock{

    Private String typeTest;
    
    global ADAPT360Mock_ApiRest (final String typeTest){
        this.typeTest = typeTest;
    }
    
    // Implement this interface method
    global HTTPResponse respond(HTTPRequest request) {
        // Create a fake response
        HttpResponse response = new HttpResponse();
        response.setHeader('Content-Type', 'application/json');
        
        if(request.getEndpoint().contains('compose360') || request.getEndpoint().contains('GetClients') || request.getEndpoint().contains('queryType')){
            
            response.setBody('[{"account":[{"accountNumber":{"value":"00000041000027617"},"product":{"value":"WILL"},"productType":{"value":"WI"},"availableBalance":{"value":"0"},"availableBalanceSpecified":{"value":"True"},"balance":{"value":"0"},"balanceSpecified":{"value":"True"},"balanceTxt":{"value":""},"branch":{"value":"3232"},"corporationCode":{"value":"ABS"},"dateClosed":{"value":""},"detail":{"value":""},"limit":{"value":"0.00"},"limitSpecified":{"value":"True"},"accountStatus":{"value":"FILED"},"entity":{"$ref":"74875b68-a0a2-4923-846d-40b391af9d30"}}],"authority":[{"authorityTypeCode":{"value":"WILL"},"customerCode":{"value":"WI"},"accountNumber":{"value":"0"},"changedTrackingNumber":{"value":"True"},"courtAuthorityCode":{"value":"0"},"numberOfSignatures":{"value":"True"},"employeeNumber":{"value":""},"originalCourtAuthorityCode":{"value":"3232"},"originalNumberOfSignatures":{"value":"ABS"},"originalSpecialConditions":{"value":""},"overrideEmployeeNumber":{"value":""},"specialConditions":{"value":"0.00"},"status":{"value":"True"},"changedSignatory":{"value":"FILED"},"authorityType":{"value":"FILED"}}],"individual":{"documentDetails":{"idDoc":{"documentType":{"code":{"value":"00"},"description":{"value":null}},"documentStatusReason":{"code":{"value":"00"},"description":{"value":null}},"casaSequence":{"value":""},"imageId":{"value":""},"casaReference":{"value":""},"documentRecieved":{"value":""},"documentInOrder":{"value":""},"qualityAssurance":{"value":""},"allCorrectRecieved":{"value":""},"allCorrectInOrder":{"value":""}},"addDoc":{"documentType":{"code":{"value":"00"},"description":{"value":null}},"documentStatusReason":{"code":{"value":"00"},"description":{"value":null}},"casaSequence":{"value":""},"imageId":{"value":""},"casaReference":{"value":""},"documentRecieved":{"value":""},"documentInOrder":{"value":""},"qualityAssurance":{"value":""},"allCorrectRecieved":{"value":""},"allCorrectInOrder":{"value":""}}},"givenName":{"value":""},"nameInitials":{"value":""},"surname":{"value":"GREATSOFTWARETEST3(PTY)LTD"},"salutationType":{"code":{"value":"00"},"description":{"value":null}},"countryPassport":{"code":{"value":"00;"},"description":{"value":null}},"countryOfBirth":{"code":{"value":""},"description":{"value":null}},"gender":{"code":{"value":"0"},"description":{"value":null}},"nationality":{"code":{"value":"00;"},"description":{"value":null}},"employmentStatusType":{"code":{"value":"00;"},"description":{"value":null}}},"customerDetails":{"Details":{"CPAThreshold":{"value":"05"}},"identificationTypeId":{"code":{"value":"05"},"description":{"value":"REGISTRATIONNO"}},"individualId":{"value":"198487866210"},"universalResourceLocator":{"value":""},"customerType":{"code":{"value":"023"},"description":{"value":"PRIVATECOMPANY"}},"groupScheme":{"code":{"value":"N"},"description":{"value":"NON-INDIVIDUAL"}},"sourceOfFundsCode":{"code":{"value":"00;"},"description":{"value":null}},"sourceOfIncomeCode":{"code":{"value":"39"},"description":{"value":"DEVELOPMENTFUNDING"}},"corporateDivision":{"code":{"value":"A"},"description":{"value":"CORPORATEANDINVESTMENTBANKING"}},"inLiquidation":{"value":"NO"},"underJudicialManagement":{"value":"NO"},"financialCrime":{"value":"N"},"NCAThreshold":{"value":"NO"},"CPAThreshold":{"value":"NO"},"sbuSegment":{"code":{"value":"H"},"description":{"value":"BUSINESSBANK"}},"inBusinessRescue":{"value":"N"},"inBusinessRescueAffectedParty":{"value":"N"},"placedInBusinessRescueBy":{"value":"0"},"forensicHold":{"value":"NO"},"businessRescueIssueDate":{}},"location":{"physicalAddress":{"addressName1":{"value":""},"addressName2":{"value":""},"suburbName":{"value":""},"cityName":{"value":""},"postCodeArea":{"value":""}},"postalAddress":{"addressName1":{"value":"20REPUBIC"},"addressName2":{"value":""},"suburbName":{"value":""},"cityName":{"value":"JOHANNESBURG"},"postCodeArea":{"value":"2001"},"addressTypeCode":{"value":""}},"businessAddress":{"addressName1":{"value":"20REPUBIC"},"addressName2":{"value":""},"suburbName":{"value":""},"cityName":{"value":"JOHANNESBURG"},"postCodeArea":{"value":"2001"},"addressType":{"value":"20"}},"headOfficeAddress":{"addressName1":{"value":"20REPUBIC"},"addressName2":{"value":""},"suburbName":{"value":""},"cityName":{"value":"JOHANNESBURG"},"postCodeArea":{"value":"2001"},"addressType":{"value":""}}},"contact":{"cellPhoneNumber":{"value":"0854043034"},"communicationChannelType":{"code":{"value":"02"},"description":{"value":"EMAIL"}},"workPhone":{"value":""},"homePhone":{"value":""},"eMailUserId":{"value":"TEST@TEST.COM"},"contactPerson":{"value":"TEST"},"designation":{"value":"ADMINISTRATOR"}},"corporateEntity":{"incorporatedCountry":{"code":{"value":"00;"},"description":{"value":null}},"standardIndustryCode":{"code":{"value":"11120"},"description":{"value":"11120-GROWINGOFVEGETABLES,HORTICULTURALSPECIALTIESANDNU"}}},"meta":{"queryResult":{"sourceSystem":"cif","type":"related"}},"identifications":[{"type":{"code":"cif","description":null},"number":"GSOFTWA002","personalIdentificationFlag":false,"systemIdentificationFlag":false,"issueDate":"0001-01-01T00:00:00","expiryDate":"0001-01-01T00:00:00","country":null}],"_links":null,"flags":{"compliant":{"value":"False"},"reason":{"code":{},"description":{}}}},{"individual":{"givenName":{"value":""},"nameInitials":{"value":""},"surname":{"value":"GREENTWOSOFTWARECOMPANY(PTY)LTD"},"salutationType":{"code":{"value":"00"},"description":{"value":null}},"countryPassport":{"code":{"value":"00;"},"description":{"value":null}},"countryOfBirth":{"code":{"value":""},"description":{"value":null}},"gender":{"code":{"value":"0"},"description":{"value":null}},"nationality":{"code":{"value":"00;"},"description":{"value":null}},"employmentStatusType":{"code":{"value":"00;"},"description":{"value":null}}},"customerDetails":{"identificationTypeId":{"code":{"value":"05"},"description":{"value":"REGISTRATIONNO"}},"individualId":{"value":"198487866210"},"universalResourceLocator":{"value":""},"customerType":{"code":{"value":"023"},"description":{"value":"PRIVATECOMPANY"}},"groupScheme":{"code":{"value":"N"},"description":{"value":"NON-INDIVIDUAL"}},"sourceOfFundsCode":{"code":{"value":"00;"},"description":{"value":null}},"sourceOfIncomeCode":{"code":{"value":"39"},"description":{"value":"DEVELOPMENTFUNDING"}},"corporateDivision":{"code":{"value":"A"},"description":{"value":"CORPORATEANDINVESTMENTBANKING"}},"inLiquidation":{"value":"NO"},"underJudicialManagement":{"value":"NO"},"financialCrime":{"value":"N"},"NCAThreshold":{"value":"NO"},"CPAThreshold":{"value":"NO"},"sbuSegment":{"code":{"value":"H"},"description":{"value":"BUSINESSBANK"}},"inBusinessRescue":{"value":"N"},"inBusinessRescueAffectedParty":{"value":"N"},"placedInBusinessRescueBy":{"value":"0"},"forensicHold":{"value":"NO"},"businessRescueIssueDate":{}},"location":{"physicalAddress":{"addressName1":{"value":""},"addressName2":{"value":""},"suburbName":{"value":""},"cityName":{"value":""},"postCodeArea":{"value":""}},"postalAddress":{"addressName1":{"value":"20REPUBIC"},"addressName2":{"value":""},"suburbName":{"value":""},"cityName":{"value":"JOHANNESBURG"},"postCodeArea":{"value":"2001"},"addressTypeCode":{"value":""}},"businessAddress":{"addressName1":{"value":"20REPUBIC"},"addressName2":{"value":""},"suburbName":{"value":""},"cityName":{"value":"JOHANNESBURG"},"postCodeArea":{"value":"2001"},"addressType":{"value":"20"}},"headOfficeAddress":{"addressName1":{"value":"20REPUBIC"},"addressName2":{"value":""},"suburbName":{"value":""},"cityName":{"value":"JOHANNESBURG"},"postCodeArea":{"value":"2001"},"addressType":{"value":""}}},"contact":{"cellPhoneNumber":{"value":"0854043034"},"communicationChannelType":{"code":{"value":"01"},"description":{"value":"POST"}},"workPhone":{"value":""},"homePhone":{"value":""},"eMailUserId":{"value":"TEST@TEST.COM"},"contactPerson":{"value":"TEST"},"designation":{"value":"ADMINISTRATOR"}},"corporateEntity":{"incorporatedCountry":{"code":{"value":"00;"},"description":{"value":null}},"standardIndustryCode":{"code":{"value":"11110"},"description":{"value":"11110-GROWINGOFCEREALSANDOTHERCROPSN.E.C."}}},"meta":{"queryResult":{"sourceSystem":"cif","type":"additionalCIF"}},"identifications":[{"type":{"code":"cif","description":null},"number":"GTSOFTW001","personalIdentificationFlag":false,"systemIdentificationFlag":false,"issueDate":"0001-01-01T00:00:00","expiryDate":"0001-01-01T00:00:00","country":null}],"_links":null},{"individual":{"givenName":{"value":"Test"},"nameInitials":{"value":""},"surname":{"value":"Individual"},"salutationType":{"code":{"value":"00"},"description":{"value":null}},"countryPassport":{"code":{"value":"00;"},"description":{"value":null}},"countryOfBirth":{"code":{"value":""},"description":{"value":null}},"gender":{"code":{"value":"0"},"description":{"value":null}},"nationality":{"code":{"value":"00;"},"description":{"value":null}},"employmentStatusType":{"code":{"value":"00;"},"description":{"value":null}}},"customerDetails":{"identificationTypeId":{"code":{"value":"05"},"description":{"value":"REGISTRATIONNO"}},"individualId":{"value":"198487866210"},"universalResourceLocator":{"value":""},"customerType":{"code":{"value":"023"},"description":{"value":"PRIVATECOMPANY"}},"groupScheme":{"code":{"value":"I"},"description":{"value":"INDIVIDUAL"}},"sourceOfFundsCode":{"code":{"value":"00;"},"description":{"value":null}},"sourceOfIncomeCode":{"code":{"value":"39"},"description":{"value":"DEVELOPMENTFUNDING"}},"corporateDivision":{"code":{"value":"A"},"description":{"value":"CORPORATEANDINVESTMENTBANKING"}},"inLiquidation":{"value":"NO"},"underJudicialManagement":{"value":"NO"},"financialCrime":{"value":"N"},"NCAThreshold":{"value":"NO"},"CPAThreshold":{"value":"NO"},"sbuSegment":{"code":{"value":"H"},"description":{"value":"BUSINESSBANK"}},"inBusinessRescue":{"value":"N"},"inBusinessRescueAffectedParty":{"value":"N"},"placedInBusinessRescueBy":{"value":"0"},"forensicHold":{"value":"NO"},"businessRescueIssueDate":{}},"location":{"physicalAddress":{"addressName1":{"value":""},"addressName2":{"value":""},"suburbName":{"value":""},"cityName":{"value":""},"postCodeArea":{"value":""}},"postalAddress":{"addressName1":{"value":"20REPUBIC"},"addressName2":{"value":""},"suburbName":{"value":""},"cityName":{"value":"JOHANNESBURG"},"postCodeArea":{"value":"2001"},"addressTypeCode":{"value":""}},"businessAddress":{"addressName1":{"value":"20REPUBIC"},"addressName2":{"value":""},"suburbName":{"value":""},"cityName":{"value":"JOHANNESBURG"},"postCodeArea":{"value":"2001"},"addressType":{"value":"20"}},"headOfficeAddress":{"addressName1":{"value":"20REPUBIC"},"addressName2":{"value":""},"suburbName":{"value":""},"cityName":{"value":"JOHANNESBURG"},"postCodeArea":{"value":"2001"},"addressType":{"value":""}}},"contact":{"cellPhoneNumber":{"value":"0854043034"},"communicationChannelType":{"code":{"value":"01"},"description":{"value":"POST"}},"workPhone":{"value":""},"homePhone":{"value":""},"eMailUserId":{"value":"TEST@TEST.COM"},"contactPerson":{"value":"TEST"},"designation":{"value":"ADMINISTRATOR"}},"corporateEntity":{"incorporatedCountry":{"code":{"value":"00;"},"description":{"value":null}},"standardIndustryCode":{"code":{"value":"11110"},"description":{"value":"11110-GROWINGOFCEREALSANDOTHERCROPSN.E.C."}}},"meta":{"queryResult":{"sourceSystem":"cif","type":"additionalCIF"}},"identifications":[{"type":{"code":"cif","description":null},"number":"TEST550","personalIdentificationFlag":false,"systemIdentificationFlag":false,"issueDate":"0001-01-01T00:00:00","expiryDate":"0001-01-01T00:00:00","country":null}],"_links":null}]');
        }else{
            response.setBody('{"nbrRetrv":"2","jntEntry":[{"idDocType":"1","idNumber":"8505057384091","initials":"M","titleCode":"1","surname":"GAJBAJIA","resAddrLine1":"UNIT-30","resAddrLine2":"NOTTING HILL","resSuburb":"FERNDALE","resTown":"FERNDALE","resPosCde":"2194","firstNames":"MEERA","homeTelCode":"0","homeTelephone":"","workTelCode":"0","workTelephone":"","cellphone":"616133895","practiceNumber":"","birthDate":"19850505","sourceOfIncome":"20","dateIdentified":"0","dateVerified":"0","employeeIdentified":"","employeeVerified":"","taxNumber":"0","clientNationality":"SOU01","countryOfOrigin":"","tempPermitNumber":"","permitExpiryDate":"0","homeTcodex":"","workTcodex":"","cellx":"0616133895","groupScheme":"0","groupSchemeEmp":"","dateIssued":"0","dateExempted":"0","empExempted":"","statusOfExempt":"","exemptionInd":"","countryOfRes":"SO003","countryOfBirth":"SO003","occupationStatus":"5","occupationCode":"1","saTaxRegis":"","rsonSaTaxNotGiven":"","foreignTaxRegis":"","foreignTaxData":[{"foreignTaxCtry":"","foreignTaxNo":"","rsonFtaxNotGiven":""},{"foreignTaxCtry":"","foreignTaxNo":"","rsonFtaxNotGiven":""},{"foreignTaxCtry":"","foreignTaxNo":"","rsonFtaxNotGiven":""},{"foreignTaxCtry":"","foreignTaxNo":"","rsonFtaxNotGiven":""}]},{"idDocType":"1","idNumber":"8505059291096","initials":"S","titleCode":"1","surname":"RAMAN","resAddrLine1":"UNIT-30","resAddrLine2":"NOTTING HILL","resSuburb":"FERNDALE","resTown":"FERNDALE","resPosCde":"2194","firstNames":"SITA","homeTelCode":"0","homeTelephone":"","workTelCode":"0","workTelephone":"","cellphone":"616133895","practiceNumber":"","birthDate":"19850505","sourceOfIncome":"20","dateIdentified":"0","dateVerified":"0","employeeIdentified":"","employeeVerified":"","taxNumber":"0","clientNationality":"SOU01","countryOfOrigin":"","tempPermitNumber":"","permitExpiryDate":"0","homeTcodex":"","workTcodex":"","cellx":"0616133895","groupScheme":"0","groupSchemeEmp":"","dateIssued":"0","dateExempted":"0","empExempted":"","statusOfExempt":"","exemptionInd":"","countryOfRes":"SO003","countryOfBirth":"SO003","occupationStatus":"5","occupationCode":"2","saTaxRegis":"","rsonSaTaxNotGiven":"","foreignTaxRegis":"","foreignTaxData":[{"foreignTaxCtry":"","foreignTaxNo":"","rsonFtaxNotGiven":""},{"foreignTaxCtry":"","foreignTaxNo":"","rsonFtaxNotGiven":""},{"foreignTaxCtry":"","foreignTaxNo":"","rsonFtaxNotGiven":""},{"foreignTaxCtry":"","foreignTaxNo":"","rsonFtaxNotGiven":""}]}]}');     
        }
        
        if(typeTest == StringConstants.POSITIVE_STRING){
            response.setStatusCode(200);
        }else if(typeTest == StringConstants.NEGATIVE_STRING){
            response.setBody(StringConstants.ERROR_MSG_READ_TIMED_OUT);
            response.setStatusCode(400);
        }else if(typeTest == StringConstants.UNHANDLED_EXCEPTION_STATUS){
            response.setBody('{}');
            response.setStatusCode(200);
        }
        return response; 
    }
}